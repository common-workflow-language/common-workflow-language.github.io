















<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2021-09-16 11:19:42 +0000">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/favicons/cwl/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/favicons/cwl/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/favicons/cwl/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/favicons/cwl/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../assets/favicons/cwl/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../assets/favicons/cwl/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../assets/favicons/cwl/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../assets/favicons/cwl/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="../assets/favicons/cwl/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../assets/favicons/cwl/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../assets/favicons/cwl/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../assets/favicons/cwl/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../assets/favicons/cwl/favicon-128.png" sizes="128x128" />
    <link rel="manifest" href="/manifest.json">
    <meta name="application-name" content="The Common Workflow Language Project - Common Workflow Language User Guide"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../assets/favicons/cwl/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="../assets/favicons/cwl/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="../assets/favicons/cwl/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="../assets/favicons/cwl/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="../assets/favicons/cwl/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <title>
  Miscellaneous &ndash; Common Workflow Language User Guide
  </title>  

  </head>
  <body>

    







    <div class="container">
      







<!-- Manual ordering of Episodes begins here -->








  
  


<!-- Manual ordering of Extras begins here -->






<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      

      
      <a class="navbar-brand" href="../index.html">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>

        
	
        <li><a href="../setup.html">Setup</a></li>

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="../01-introduction/index.html">Introduction</a></li>
            
            
            <li><a href="../02-1st-example/index.html">First Example</a></li>
            
            
            <li><a href="../03-input/index.html">Essential Input Parameters</a></li>
            
            
            <li><a href="../04-output/index.html">Returning Output Files</a></li>
            
            
            <li><a href="../05-stdout/index.html">Capturing Standard Output</a></li>
            
            
            <li><a href="../06-params/index.html">Parameter References</a></li>
            
            
            <li><a href="../07-containers/index.html">Running Tools Inside Docker</a></li>
            
            
            <li><a href="../08-arguments/index.html">Additional Arguments and Parameters</a></li>
            
            
            <li><a href="../09-array-inputs/index.html">Array Inputs</a></li>
            
            
            <li><a href="../10-array-outputs/index.html">Array Outputs</a></li>
            
            
            <li><a href="../11-records/index.html">Advanced Inputs</a></li>
            
            
            <li><a href="../12-env/index.html">Environment Variables</a></li>
            
            
            <li><a href="../13-expressions/index.html">JavaScript Expressions</a></li>
            
            
            <li><a href="../14-runtime/index.html">Creating Files at Runtime</a></li>
            
            
            <li><a href="../15-staging/index.html">Staging Input Files</a></li>
            
            
            <li><a href="../16-file-formats/index.html">File Formats</a></li>
            
            
            <li><a href="../17-metadata/index.html">Metadata and Authorship</a></li>
            
            
            <li><a href="../19-custom-types/index.html">Custom Types</a></li>
            
            
            <li><a href="../20-software-requirements/index.html">Specifying Software Requirements</a></li>
            
            
            <li><a href="../21-1st-workflow/index.html">Writing Workflows</a></li>
            
            
            <li><a href="../22-nested-workflows/index.html">Nested Workflows</a></li>
            
            
            <li><a href="../23-scatter-workflow/index.html">Scattering Workflows</a></li>
            
            
            <li><a href="../24_conditional-workflow/index.html">Conditional workflows</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            
            <li><a href="../misc/">Miscellaneous</a></li>
            
            
            <li><a href="../rec-practices/">Recommended Practices</a></li>
            
            
            <li><a href="../yaml/">YAML Guide</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.html">License</a></li>
	
	<li><a href="/edit//_extras/miscellaneous.md" data-checker-ignore>Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
	
	<li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
          <img src="https://upload.wikimedia.org/wikipedia/commons/d/d7/Google_Translate_logo.svg" alt="Google Translate logo" height="15"/>
                EN
          <span class="caret"></span></a>
          <ul class="dropdown-menu">
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=zh-CN&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ZH-CN
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=zh-TW&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ZH-TW
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=hi&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              HI
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=es&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ES
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=fr&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              FR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ar&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              AR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=bn&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              BN
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ru&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              RU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pt&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              PT
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=id&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ID
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ur&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              UR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=de&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              DE
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ja&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              JA
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=sw&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              SW
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=mr&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              MR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=te&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              TE
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pa&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              PA
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ta&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              TA
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=tr&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              TR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ko&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              KO
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=vi&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              VI
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=jw&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              JW
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=it&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              IT
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ha&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              HA
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=th&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              TH
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=gu&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              GU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=kn&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              KN
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=fa&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              FA
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ms&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              MS
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=pl&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              PL
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=yo&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              YO
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ml&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ML
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=su&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              SU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=uz&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              UZ
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ig&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              IG
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ro&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              RO
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=nl&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              NL
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=az&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              AZ
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ku&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              KU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=am&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              AM
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=mg&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              MG
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=sr&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              SR
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ne&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              NE
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=km&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              KM
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=so&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              SO
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=ceb&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              CEB
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=si&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              SI
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=el&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              EL
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=kk&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              KK
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=hu&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              HU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=zu&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              ZU
              </a>
            </li>
          
            <li>
              <a class="dropdown-item" href="https://translate.google.com/translate?hl=jp&sl=en&tl=cs&u=https%3A%2F%2Fwww.commonwl.org%2Fuser_guide/misc/&edit-text=&act=url" title="">
              CS
              </a>
            </li>
          
          </ul>
        </li>
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>
















<h1 class="maintitle"><a href="../index.html">Common Workflow Language User Guide</a>: Miscellaneous</h1>



<article>
<p>This is a collection of examples and short notes
about some operations that fall outside the scope of the User Guide
and/or have not yet been implemented in a clean way in the CWL standards.</p>

<h3 id="non-file-types-using-evalfrom">Non “<code class="language-plaintext highlighter-rouge">File</code>” types using <code class="language-plaintext highlighter-rouge">evalFrom</code></h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">cwlVersion</span><span class="pi">:</span> <span class="s">v1.0</span>  <span class="c1"># or v1.1</span>
<span class="na">class</span><span class="pi">:</span> <span class="s">CommandLineTool</span>
<span class="na">requirements</span><span class="pi">:</span>
  <span class="na">InlineJavascriptRequirement</span><span class="pi">:</span> <span class="pi">{}</span>

<span class="na">baseCommand</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">echo</span><span class="pi">,</span> <span class="s2">"</span><span class="s">42"</span> <span class="pi">]</span>

<span class="na">inputs</span><span class="pi">:</span> <span class="pi">[]</span>

<span class="na">stdout</span><span class="pi">:</span> <span class="s">my_number.txt</span>

<span class="na">outputs</span><span class="pi">:</span>
  <span class="na">my_number</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">int</span>
    <span class="na">outputBinding</span><span class="pi">:</span>
       <span class="na">glob</span><span class="pi">:</span> <span class="s">my_number.txt</span>
       <span class="na">loadContents</span><span class="pi">:</span> <span class="s">True</span>
       <span class="na">outputEval</span><span class="pi">:</span> <span class="s">$(parselnt(self[0].contents))</span>

  <span class="na">my_number_as_string</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">string</span>
    <span class="na">outputBinding</span><span class="pi">:</span>
       <span class="na">glob</span><span class="pi">:</span> <span class="s">my_number.txt</span>
       <span class="na">loadContents</span><span class="pi">:</span> <span class="s">True</span>
       <span class="na">outputEval</span><span class="pi">:</span> <span class="s">$(self[0].contents)</span>
</code></pre></div></div>

<h3 id="rename-an-input-file">Rename an input file</h3>

<p>This example shows how you can change the name of an input file
as part of a tool description.
This could be useful when you are taking files produced from another
step in a workflow and don’t want to work with the default names that these
files were given when they were created.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">requirements</span><span class="pi">:</span>
  <span class="na">InitialWorkDirRequirement</span><span class="pi">:</span>
    <span class="na">listing</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">entry</span><span class="pi">:</span> <span class="s">$(inputs.src1)</span>
        <span class="na">entryName</span><span class="pi">:</span> <span class="s">newName</span>
      <span class="pi">-</span> <span class="na">entry</span><span class="pi">:</span> <span class="s">$(inputs.src2)</span>
        <span class="na">entryName</span><span class="pi">:</span> <span class="s">$(inputs.src1.basename)_custom_extension</span>
</code></pre></div></div>

<h3 id="rename-an-output-file">Rename an output file</h3>

<p>This example shows how you can change the name an output file
from the default name given to it by a tool:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">cwlVersion</span><span class="pi">:</span> <span class="s">v1.0</span> <span class="c1"># or v1.1</span>
<span class="na">class</span><span class="pi">:</span> <span class="s">CommandLineTool</span>
<span class="na">requirements</span><span class="pi">:</span>
  <span class="na">InlineJavascriptRequirement</span><span class="pi">:</span> <span class="pi">{}</span>

<span class="na">baseCommand</span><span class="pi">:</span> <span class="pi">[]</span>

<span class="na">inputs</span><span class="pi">:</span> <span class="pi">[]</span>

<span class="na">outputs</span><span class="pi">:</span>
 <span class="na">otu_table</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">File</span>
    <span class="na">outputBinding</span><span class="pi">:</span>
      <span class="na">glob</span><span class="pi">:</span> <span class="s">otu_table.txt</span>
      <span class="na">outputEval</span><span class="pi">:</span> <span class="s">${self[0].basename=inputs.otu_table_name; return self;}</span>
</code></pre></div></div>

<h3 id="setting-self-based-input-bindings-for-optional-inputs">Setting <code class="language-plaintext highlighter-rouge">self</code>-based input bindings for optional inputs</h3>

<p>Currently, <code class="language-plaintext highlighter-rouge">cwltool</code> can’t cope with missing optional inputs if their
input binding makes use of <code class="language-plaintext highlighter-rouge">self</code>.
Below is an example workaround for this,
pending a more sophisticated fix.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env cwl-runner</span>
<span class="na">cwlVersion</span><span class="pi">:</span> <span class="s">v1.0</span>
<span class="na">class</span><span class="pi">:</span> <span class="s">CommandLineTool</span>

<span class="na">requirements</span><span class="pi">:</span> <span class="pi">{</span> <span class="nv">InlineJavascriptRequirement</span><span class="pi">:</span> <span class="pi">{}</span> <span class="pi">}</span>

<span class="na">inputs</span><span class="pi">:</span>
  <span class="na">cfg</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">File?</span>
    <span class="na">inputBinding</span><span class="pi">:</span>
      <span class="na">prefix</span><span class="pi">:</span> <span class="s">-cfg</span>
      <span class="na">valueFrom</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="s">${ if(self === null) { return null;} else { return self.basename; } }</span>

<span class="na">baseCommand</span><span class="pi">:</span> <span class="s">echo</span>

<span class="na">outputs</span><span class="pi">:</span> <span class="pi">[]</span>
</code></pre></div></div>

<h3 id="model-a-one-or-the-other-parameter">Model a “one-or-the-other” parameter</h3>

<p>Below is an example of how
you can specify different strings to be added to a command line
based on the value given to a Boolean parameter.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">cwlVersion</span><span class="pi">:</span> <span class="s">v1.0</span>
<span class="na">class</span><span class="pi">:</span> <span class="s">CommandLineTool</span>
<span class="na">requirements</span><span class="pi">:</span>
  <span class="na">InlineJavascriptRequirement</span><span class="pi">:</span> <span class="pi">{}</span>
<span class="na">inputs</span><span class="pi">:</span>
  <span class="na">fancy_bool</span><span class="pi">:</span>
     <span class="na">type</span><span class="pi">:</span> <span class="s">boolean</span>
     <span class="na">default</span><span class="pi">:</span> <span class="no">false</span>  <span class="c1"># or true</span>
     <span class="na">inputBinding</span><span class="pi">:</span>
        <span class="na">valueFrom</span><span class="pi">:</span> <span class="s">${if (self) { return "foo";} else { return "bar";}}</span>

<span class="na">baseCommand</span><span class="pi">:</span> <span class="s">echo</span>

<span class="na">outputs</span><span class="pi">:</span> <span class="pi">[]</span>
</code></pre></div></div>

<h3 id="connect-a-solo-value-to-an-input-that-expects-an-array-of-that-type">Connect a solo value to an input that expects an array of that type</h3>

<p>Using <a href="https://www.commonwl.org/v1.0/Workflow.html#MultipleInputFeatureRequirement"><code class="language-plaintext highlighter-rouge">MultipleInputFeatureRequirement</code></a>
along with
<a href="https://www.commonwl.org/v1.0/Workflow.html#WorkflowStepInput"><code class="language-plaintext highlighter-rouge">linkMerge: merge_nested</code></a></p>

<blockquote>
  <p>merge_nested</p>

  <p>The input must be an array consisting of exactly one entry for each input link.
If “merge_nested” is specified with a single link, the value from the link must be wrapped in a single-item list.</p>
</blockquote>

<p>Which means “create a list with exactly these sources as elements”</p>

<p>Or in other words: if the destination is of type <code class="language-plaintext highlighter-rouge">File[]</code> (an array of <code class="language-plaintext highlighter-rouge">File</code>s)
and the source is a single <code class="language-plaintext highlighter-rouge">File</code> then add <code class="language-plaintext highlighter-rouge">MultipleInputFeatureRequirement</code> to the Workflow level <code class="language-plaintext highlighter-rouge">requirements</code>
and add <code class="language-plaintext highlighter-rouge">linkMerge: merge_nested</code> under the appropriate <code class="language-plaintext highlighter-rouge">in</code> entry of the destination step.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">cwlVersion</span><span class="pi">:</span> <span class="s">v1.0</span>
<span class="na">class</span><span class="pi">:</span> <span class="s">Workflow</span>

<span class="na">requirements</span><span class="pi">:</span>
  <span class="na">MultipleInputFeatureRequirement</span><span class="pi">:</span> <span class="pi">{}</span>

<span class="na">inputs</span><span class="pi">:</span>
  <span class="na">readme</span><span class="pi">:</span> <span class="s">File</span>

<span class="na">steps</span><span class="pi">:</span>
  <span class="na">first</span><span class="pi">:</span>
    <span class="na">run</span><span class="pi">:</span> <span class="s">tests/checker_wf/cat.cwl</span>
    <span class="na">in</span><span class="pi">:</span>
     <span class="na">cat_in</span><span class="pi">:</span>  <span class="c1"># type is File[]</span>
       <span class="na">source</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">readme</span> <span class="pi">]</span>  <span class="c1"># but the source is of type File</span>
       <span class="na">linkMerge</span><span class="pi">:</span> <span class="s">merge_nested</span>
    <span class="na">out</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">txt</span><span class="pi">]</span>

<span class="na">outputs</span><span class="pi">:</span>
  <span class="na">result</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">File</span>
    <span class="na">outputSource</span><span class="pi">:</span> <span class="s">first/txt</span>
</code></pre></div></div>
<h3 id="optional-inputs-">Optional Inputs 💯</h3>

<p>To make an input parameter optional, add a question mark to the type declaration.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">inputs</span><span class="pi">:</span>
  <span class="na">InputRead1</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">File</span>
    <span class="na">inputBinding</span><span class="pi">:</span>
      <span class="na">position</span><span class="pi">:</span> <span class="m">100</span>

  <span class="c1">#Optional Inputs</span>
  <span class="na">isCasava</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">boolean?</span>
    <span class="na">inputBinding</span><span class="pi">:</span>
      <span class="na">position</span><span class="pi">:</span> <span class="m">1</span>
      <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--casava"</span>
</code></pre></div></div>
<p><a name="enuminputs"></a></p>
<h3 id="enum-inputs-️">Enum Inputs ⚜️</h3>

<p>For commandline flags that require a specific input as the argument an enum type can be declared in CWL. <strong>Specifying null here is known as long form style. It does the same thing as the question mark on the other inputs.</strong></p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">Format</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">null"</span>
    <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">enum</span>
      <span class="na">symbols</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">bam</span>
        <span class="pi">-</span> <span class="s">sam</span>
        <span class="pi">-</span> <span class="s">bam_mapped</span>
        <span class="pi">-</span> <span class="s">sam_mapped</span>
        <span class="pi">-</span> <span class="s">fastq</span>
  <span class="na">inputBinding</span><span class="pi">:</span>
    <span class="na">position</span><span class="pi">:</span> <span class="m">2</span>
    <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--format"</span>
</code></pre></div></div>
<p><a name="recordinputs"></a></p>
<h3 id="record-inputs-">Record Inputs 📀</h3>

<p>For commandline flags that are either <strong>mutually exclusive</strong> or <strong>dependent</strong> a special record type can be defined. You can also specify null here to create optional inputs.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#Using record inputs to create mutually exclusive inputs</span>

  <span class="na">Strand</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">null"</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">record</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">forward</span>
        <span class="na">fields</span><span class="pi">:</span>
          <span class="na">forward</span><span class="pi">:</span>
              <span class="na">type</span><span class="pi">:</span> <span class="s">boolean</span>
              <span class="na">inputBinding</span><span class="pi">:</span>
                <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--fr-stranded"</span>

      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">record</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">reverse</span>
        <span class="na">fields</span><span class="pi">:</span>
          <span class="na">reverse</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">boolean</span>
            <span class="na">inputBinding</span><span class="pi">:</span>
              <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--rf-stranded"</span>

  <span class="na">PseudoBam</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">boolean?</span>
    <span class="na">inputBinding</span><span class="pi">:</span>
      <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--pseudobam"</span>

<span class="c1">#Using record inputs to create dependent inputs</span>
  
  <span class="na">GenomeBam</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">null"</span>
      <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">record</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">genome_bam</span>
        <span class="na">fields</span><span class="pi">:</span>
          <span class="na">genomebam</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">boolean</span>
            <span class="na">inputBinding</span><span class="pi">:</span>
              <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--genomebam"</span>

          <span class="na">gtf</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">File</span>
            <span class="na">inputBinding</span><span class="pi">:</span>
              <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--gtf"</span>

          <span class="na">chromosomes</span><span class="pi">:</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s">File</span>
            <span class="na">inputBinding</span><span class="pi">:</span>
              <span class="na">prefix</span><span class="pi">:</span> <span class="s2">"</span><span class="s">--chromosomes"</span>
</code></pre></div></div>
<h3 id="setting-mutually-exclusive-parameters">Setting Mutually Exclusive Parameters</h3>

<p>In order to properly set fields in a record input type, you need to pass a dictionary to the input to properly set the parameters. This is done by using inline javascript and returning the dictionary with the key of the field you want to set. The source field is set to indicate the input from the workflow to be used as the value.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">steps</span><span class="pi">:</span>

  <span class="na">build_hisat2_index</span><span class="pi">:</span>
    <span class="na">run</span><span class="pi">:</span> <span class="s">../Tools/Hisat2-Index.cwl</span>
    <span class="na">in</span><span class="pi">:</span>
      <span class="na">InputFiles</span><span class="pi">:</span>
        <span class="na">source</span><span class="pi">:</span> <span class="s">FastaFiles</span>
        <span class="na">valueFrom </span><span class="pi">:</span> <span class="pi">|</span> 
          <span class="s">${return {"fasta": self};}</span>

      <span class="na">IndexName</span><span class="pi">:</span> <span class="s">IndexName</span>
    
    <span class="na">out</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">indexes</span><span class="pi">]</span>
</code></pre></div></div>

<h3 id="setting-booleans">Setting Booleans</h3>

<p>These can be set by using the default field</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">input</span><span class="pi">:</span>
  <span class="s">default:true</span>
</code></pre></div></div>
<h3 id="concating-strings-in-inputs">Concating Strings in Inputs</h3>

<p>The valueFrom field must be used instead of default.</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">input</span><span class="pi">:</span>
  <span class="na">valueFrom</span><span class="pi">:</span> <span class="pi">|</span>
     <span class="s">My String: $(input.stringvalue)</span>
</code></pre></div></div>

<h3 id="cwltool-errors-due-to-filenames-with-space-characters-inside"><code class="language-plaintext highlighter-rouge">cwltool</code> errors due to filenames with space characters inside</h3>

<p><code class="language-plaintext highlighter-rouge">cwltool</code> does not allow some characters in filenames by default.</p>

<p>For example, the filename is <code class="language-plaintext highlighter-rouge">a space is here.txt</code> includes 3 space characters.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">ERROR Workflow error, try again with --debug for more information:

Invalid filename: 'a space is here.txt' contains illegal characters
</span></code></pre></div></div>

<p>If you can not avoid these dangerous characters, then pass <code class="language-plaintext highlighter-rouge">--relax-path-checks</code> to <code class="language-plaintext highlighter-rouge">cwltool</code>.</p>

<h3 id="cwl-parameter-reference-error-due-to-hyphen-in-input-identifier">CWL Parameter Reference error due to hyphen in input identifier</h3>

<p>If <code class="language-plaintext highlighter-rouge">cwltool --validate</code> returns valid</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>cwltool <span class="nt">--validate</span> cwl/qiime.cwl
<span class="go">INFO /usr/local/bin/cwltool 1.0.20190831161204
INFO Resolved 'cwl/qiime.cwl' to 'file:///workspace/cwl/qiime.cwl'
cwl/qiime.cwl is valid CWL.
</span></code></pre></div></div>

<p>But executing it causes an error like:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>cwltool cwl/qiime.cwl <span class="nt">--sample-input</span> metadata.tsv 
<span class="go">INFO /usr/local/bin/cwltool 1.0.20190831161204
INFO Resolved 'cwl/qiime.cwl' to 'file:///workspace/cwl/qiime.cwl'
ERROR Workflow error, try again with --debug for more information:
cwl/qiime.cwl:14:5: Expression evaluation error:
                    Syntax error in parameter reference '(inputs.sample-input)'. This could be due
                    to using Javascript code without specifying InlineJavascriptRequirement.
</span></code></pre></div></div>

<p>The file is here</p>

<pre><code class="language-cwl">cwlVersion: v1.0
class: CommandLineTool
baseCommand: [qiime, metadata, tabulate]
arguments:
  - prefix: --m-input-file
    valueFrom: $(inputs.sample-input)
inputs:
  sample-input: File
outputs: []
</code></pre>

<p>Problem caused by <code class="language-plaintext highlighter-rouge">-</code> (hyphen charcter).</p>

<pre><code class="language-cwl">valueFrom: $(inputs.sample-input)
                        # ^ this is problem
...

inputs:
  sample-input: File
      # ^ this is problem
</code></pre>

<p>Fix this error is change <code class="language-plaintext highlighter-rouge">-</code> (hyphen) to <code class="language-plaintext highlighter-rouge">_</code> (underscore)</p>

<pre><code class="language-cwl">valueFrom: $(inputs.sample_input)
                        # ^ changed here

...

inputs:
  sample_input: File
      # ^ changed here
</code></pre>

<p>If is not possible to change the input identifier, then you can use an alternative CWL Parameter Reference syntax:</p>

<pre><code class="language-cwl">valueFrom: $(inputs["sample-input"])
</code></pre>

</article>

      
      






<footer>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
	
    </div>
    <div class="col-md-6 help-links" align="right">
	
	<a href="/edit//_extras/miscellaneous.md" data-checker-ignore>Edit on GitHub</a>
	
	/
	<a href="/blob//CONTRIBUTING.md" data-checker-ignore>Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob//CITATION" data-checker-ignore>Cite</a>
	/
	<a href="mailto:https://www.commonwl.org/#Support">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.3">9.5.3</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
