
    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css integrity=sha384-604wwakM23pEysLJAhja8Lm42IIwYrJ0dEAqzFsj9pJ/P5buiujjywArgPCi8eoz crossorigin="anonymous">
<link rel="shortcut icon"
href="https://www.commonwl.org/user_guide/assets/favicons/cwl/favicon-96x96.png">

    <script>
    // Picture element HTML5 shiv
    document.createElement( "picture" );
    </script>
    <script src="https://cdn.rawgit.com/scottjehl/picturefill/3.0.2/dist/picturefill.min.js"
        integrity="sha384-ZJsVW8YHHxQHJ+SJDncpN90d0EfAhPP+yA94n+EhSRzhcxfo84yMnNk+v37RGlWR"
        crossorigin="anonymous" async></script>
    <title>Common Workflow Language (CWL) Workflow Description, v1.2</title>
    <style>
    :target {
      padding-top: 61px;
      margin-top: -61px;
    }
    body {
      padding-top: 61px;
    }
    .tocnav ol {
      list-style: none
    }
    pre {
      margin-left: 2em;
      margin-right: 2em;
    }
    .section a {
      visibility: hidden;
    }
    .section:hover a {
      visibility: visible;
      color: rgb(201, 201, 201);
    }
    .responsive-table-header {
      text-align: left;
      padding: 8px;
      vertical-align: top;
      font-weight: bold;
      border-top-color: rgb(221, 221, 221);
      border-top-style: solid;
      border-top-width: 1px;
      background-color: #f9f9f9
    }
    .responsive-table > .responsive-table-row {
      text-align: left;
      padding: 8px;
      vertical-align: top;
      border-top-color: rgb(221, 221, 221);
      border-top-style: solid;
      border-top-width: 1px;
    }
    @media (min-width: 0px), print {
      .description-header {
        display: none;
      }
      .description-col {
        margin-top: 1em;
        margin-left: 1.5em;
      }
    }
    @media (min-width: 1170px) {
      .description-header {
        display: inline;
      }
      .description-col {
        margin-top: 0px;
        margin-left: 0px;
      }
    }
    .responsive-table-row:nth-of-type(odd) {
       background-color: #f9f9f9
    }
    </style>
    </head>
    <body>
    
      <nav class="navbar navbar-default navbar-fixed-top ">
        <div class="container">
          <div class="navbar-header">
            <a class="navbar-brand" href="index.html"><img src='../CWL-Logo-Header.png' style='height: 61px; margin-top: -20px; margin-left: -20px'></img></a>
    
                <ul class="nav navbar-nav">
                  <li><a href="#toc">Table of contents</a></li>
                </ul>
        
          </div>
        </div>
      </nav>
    
    <div class="container">
    
    <div class="row">
    
    <div class="col-md-12" role="main" id="main"><h1 id="Common_Workflow_Language_(CWL)_Workflow_Description,_v1.2" class="section">Common Workflow Language (CWL) Workflow Description, v1.2 <a href="#Common_Workflow_Language_(CWL)_Workflow_Description,_v1.2">&sect;</a></h1><p>This version:</p>
<ul>
<li><a href="https://w3id.org/cwl/v1.2/">https://w3id.org/cwl/v1.2/</a></li>
</ul>
<p>Latest stable version:</p>
<ul>
<li><a href="https://w3id.org/cwl/">https://w3id.org/cwl/</a></li>
</ul>
<p>Authors:</p>
<ul>
<li>Peter Amstutz <a href="mailto:peter.amstutz@curii.com">peter.amstutz@curii.com</a>, Curii Inc. / Arvados; <a href="https://orcid.org/0000-0003-3566-7705">https://orcid.org/0000-0003-3566-7705</a></li>
<li>Michael R. Crusoe <a href="mailto:mrc@commonwl.org">mrc@commonwl.org</a>, CWL Project Lead; <a href="https://orcid.org/0000-0002-2961-9670">https://orcid.org/0000-0002-2961-9670</a></li>
<li>Kaushik Ghose <a href="mailto:kaushik.ghose@sbgenomics.com">kaushik.ghose@sbgenomics.com</a>, Seven Bridges Genomics, Inc; <a href="https://orcid.org/0000-0003-2933-1260">https://orcid.org/0000-0003-2933-1260</a></li>
</ul>
<p>Contributors to v1.2:</p>
<ul>
<li>John Chilton <a href="mailto:jmchilton@gmail.com">jmchilton@gmail.com</a>, Galaxy Project, Pennsylvania State University; <a href="https://orcid.org/0000-0002-6794-0756">https://orcid.org/0000-0002-6794-0756</a></li>
<li>Michael Franklin <a href="mailto:michael.franklin@petermac.org">michael.franklin@petermac.org</a>, Peter MacCallum Cancer Centre and University of Melbourne; <a href="https://orcid.org/0000-0001-9292-1533">https://orcid.org/0000-0001-9292-1533</a></li>
<li>Bogdan Gavrilovic <a href="mailto:bogdan.gavrilovic@sbgenomics.com">bogdan.gavrilovic@sbgenomics.com</a>, Seven Bridges Genomics; <a href="https://orcid.org/0000-0003-1550-1716">https://orcid.org/0000-0003-1550-1716</a></li>
<li>Stian Soiland-Reyes, University of Manchester; <a href="https://orcid.org/0000-0001-9842-9718">https://orcid.org/0000-0001-9842-9718</a></li>
</ul>
<p>Incorporates the work of past authors and contributors to <a href="https://www.commonwl.org/v1.0/Workflow.html">CWL v1.0</a> and <a href="https://www.commonwl.org/v1.1/Workflow.html">CWL v1.1</a>.</p>
<p>This specification was <a href="https://github.com/common-workflow-language/cwl-v1.2/pull/47">approved on 2020-08-07</a> by the CWL leadership team consisting of:</p>
<ul>
<li>Peter Amstutz, Curii Inc. / Arvados; <a href="https://orcid.org/0000-0003-3566-7705">https://orcid.org/0000-0003-3566-7705</a></li>
<li>John Chilton, Pennsylvania State University / Galaxy Project; <a href="https://orcid.org/0000-0002-6794-0756">https://orcid.org/0000-0002-6794-0756</a></li>
<li>Michael R. Crusoe, CWL Project Lead; <a href="https://orcid.org/0000-0002-2961-9670">https://orcid.org/0000-0002-2961-9670</a></li>
<li>Brandi Davis Dusenbery, Seven Bridges Genomics, Inc.; <a href="https://orcid.org/0000-0001-7811-8613">https://orcid.org/0000-0001-7811-8613</a></li>
<li>Jeff Gentry, Foundation Medicine; <a href="https://orcid.org/0000-0001-5351-8442">https://orcid.org/0000-0001-5351-8442</a></li>
<li>Hervé Ménager, Institut Pasteur; <a href="https://orcid.org/0000-0002-7552-1009">https://orcid.org/0000-0002-7552-1009</a></li>
<li>Stian Soiland-Reyes, University of Manchester; <a href="https://orcid.org/0000-0001-9842-9718">https://orcid.org/0000-0001-9842-9718</a></li>
</ul>
<h1 id="Abstract" class="section">Abstract <a href="#Abstract">&sect;</a></h1><p>This specification defines the Common Workflow Language (CWL)
Workflow description, a vendor-neutral standard for representing
analysis tasks where a sequence of operations are described
using a directed graph of operations to transform input to
output.  CWL is portable across a variety of computing
platforms.</p>
<h1 id="Status_of_this_document" class="section">Status of this document <a href="#Status_of_this_document">&sect;</a></h1><p>This document is the product of the <a href="https://www.commonwl.org/">Common Workflow Language working
group</a>.  The
source for the latest version of this document is available at</p>
<p><a href="https://github.com/common-workflow-language/cwl-v1.2/">https://github.com/common-workflow-language/cwl-v1.2/</a></p>
<p>The products of the CWL working group (including this document) are made available
under the terms of the Apache License, version 2.0.</p>
<h1 id="toc">Table of contents</h1>
               <nav class="tocnav"><ol><li><a href="#Common_Workflow_Language_(CWL)_Workflow_Description,_v1.2"> Common Workflow Language (CWL) Workflow Description, v1.2</a><ol>
</ol><li><a href="#Abstract"> Abstract</a><ol>
</ol><li><a href="#Status_of_this_document"> Status of this document</a><ol>
</ol><li><a href="#Introduction">1. Introduction</a><ol>
<li><a href="#Introduction_to_CWL_Workflow_standard_v1.2">1.1 Introduction to CWL Workflow standard v1.2</a><ol>
</ol><li><a href="#Changelog">1.2 Changelog</a><ol>
</ol><li><a href="#Purpose">1.3 Purpose</a><ol>
</ol><li><a href="#References_to_other_specifications">1.4 References to other specifications</a><ol>
</ol><li><a href="#Scope">1.5 Scope</a><ol>
</ol><li><a href="#Terminology">1.6 Terminology</a><ol>
</ol></li></ol><li><a href="#Data_model">2. Data model</a><ol>
<li><a href="#Data_concepts">2.1 Data concepts</a><ol>
</ol><li><a href="#Syntax">2.2 Syntax</a><ol>
<li><a href="#map">2.2.1 map</a><ol>
</ol></li></ol><li><a href="#Identifiers">2.3 Identifiers</a><ol>
</ol><li><a href="#Document_preprocessing">2.4 Document preprocessing</a><ol>
</ol><li><a href="#Extensions_and_metadata">2.5 Extensions and metadata</a><ol>
</ol><li><a href="#Packed_documents">2.6 Packed documents</a><ol>
</ol></li></ol><li><a href="#Execution_model">3. Execution model</a><ol>
<li><a href="#Execution_concepts">3.1 Execution concepts</a><ol>
</ol><li><a href="#Generic_execution_process">3.2 Generic execution process</a><ol>
</ol><li><a href="#Requirements_and_hints">3.3 Requirements and hints</a><ol>
</ol><li><a href="#Parameter_references">3.4 Parameter references</a><ol>
<li><a href="#String_interpolation">3.4.1 String interpolation</a><ol>
</ol></li></ol><li><a href="#Expressions_(Optional)">3.5 Expressions (Optional)</a><ol>
</ol><li><a href="#Executing_CWL_documents_as_scripts">3.6 Executing CWL documents as scripts</a><ol>
</ol><li><a href="#Discovering_CWL_documents_on_a_local_filesystem">3.7 Discovering CWL documents on a local filesystem</a><ol>
</ol></li></ol><li><a href="#Workflow">4. Workflow</a><ol>
<li><a href="#WorkflowInputParameter">4.1 WorkflowInputParameter</a><ol>
<li><a href="#SecondaryFileSchema">4.1.1 SecondaryFileSchema</a><ol>
</ol><li><a href="#Expression">4.1.2 Expression</a><ol>
</ol><li><a href="#LoadListingEnum">4.1.3 LoadListingEnum</a><ol>
</ol><li><a href="#Any">4.1.4 Any</a><ol>
</ol><li><a href="#CWLType">4.1.5 CWLType</a><ol>
</ol><li><a href="#File">4.1.6 File</a><ol>
<li><a href="#Directory">4.1.6.1 Directory</a><ol>
</ol></li></ol><li><a href="#InputRecordSchema">4.1.7 InputRecordSchema</a><ol>
</ol><li><a href="#InputRecordField">4.1.8 InputRecordField</a><ol>
<li><a href="#InputEnumSchema">4.1.8.1 InputEnumSchema</a><ol>
</ol><li><a href="#InputArraySchema">4.1.8.2 InputArraySchema</a><ol>
</ol></li></ol><li><a href="#InputBinding">4.1.9 InputBinding</a><ol>
</ol></li></ol><li><a href="#WorkflowOutputParameter">4.2 WorkflowOutputParameter</a><ol>
<li><a href="#LinkMergeMethod">4.2.1 LinkMergeMethod</a><ol>
</ol><li><a href="#PickValueMethod">4.2.2 PickValueMethod</a><ol>
</ol><li><a href="#OutputRecordSchema">4.2.3 OutputRecordSchema</a><ol>
</ol><li><a href="#OutputRecordField">4.2.4 OutputRecordField</a><ol>
<li><a href="#OutputEnumSchema">4.2.4.1 OutputEnumSchema</a><ol>
</ol><li><a href="#OutputArraySchema">4.2.4.2 OutputArraySchema</a><ol>
</ol></li></ol></li></ol><li><a href="#WorkflowStep">4.3 WorkflowStep</a><ol>
<li><a href="#WorkflowStepInput">4.3.1 WorkflowStepInput</a><ol>
</ol><li><a href="#WorkflowStepOutput">4.3.2 WorkflowStepOutput</a><ol>
</ol><li><a href="#ScatterMethod">4.3.3 ScatterMethod</a><ol>
</ol><li><a href="#InlineJavascriptRequirement">4.3.4 InlineJavascriptRequirement</a><ol>
</ol><li><a href="#SchemaDefRequirement">4.3.5 SchemaDefRequirement</a><ol>
<li><a href="#CommandInputRecordSchema">4.3.5.1 CommandInputRecordSchema</a><ol>
<li><a href="#CommandInputRecordField">4.3.5.1.1 CommandInputRecordField</a><ol>
<li><a href="#CommandInputEnumSchema">4.3.5.1.1.1 CommandInputEnumSchema</a><ol>
</ol><li><a href="#CommandLineBinding">4.3.5.1.1.2 CommandLineBinding</a><ol>
</ol><li><a href="#CommandInputArraySchema">4.3.5.1.1.3 CommandInputArraySchema</a><ol>
</ol></li></ol></li></ol></li></ol><li><a href="#LoadListingRequirement">4.3.6 LoadListingRequirement</a><ol>
</ol><li><a href="#SoftwareRequirement">4.3.7 SoftwareRequirement</a><ol>
</ol><li><a href="#SoftwarePackage">4.3.8 SoftwarePackage</a><ol>
</ol><li><a href="#InitialWorkDirRequirement">4.3.9 InitialWorkDirRequirement</a><ol>
<li><a href="#Dirent">4.3.9.1 Dirent</a><ol>
</ol></li></ol><li><a href="#WorkReuse">4.3.10 WorkReuse</a><ol>
</ol><li><a href="#NetworkAccess">4.3.11 NetworkAccess</a><ol>
</ol><li><a href="#InplaceUpdateRequirement">4.3.12 InplaceUpdateRequirement</a><ol>
</ol><li><a href="#ToolTimeLimit">4.3.13 ToolTimeLimit</a><ol>
</ol><li><a href="#SubworkflowFeatureRequirement">4.3.14 SubworkflowFeatureRequirement</a><ol>
</ol><li><a href="#ScatterFeatureRequirement">4.3.15 ScatterFeatureRequirement</a><ol>
</ol><li><a href="#MultipleInputFeatureRequirement">4.3.16 MultipleInputFeatureRequirement</a><ol>
</ol><li><a href="#StepInputExpressionRequirement">4.3.17 StepInputExpressionRequirement</a><ol>
</ol><li><a href="#ExpressionTool">4.3.18 ExpressionTool</a><ol>
<li><a href="#ExpressionToolOutputParameter">4.3.18.1 ExpressionToolOutputParameter</a><ol>
</ol><li><a href="#CWLVersion">4.3.18.2 CWLVersion</a><ol>
</ol></li></ol><li><a href="#Operation">4.3.19 Operation</a><ol>
<li><a href="#OperationInputParameter">4.3.19.1 OperationInputParameter</a><ol>
</ol><li><a href="#OperationOutputParameter">4.3.19.2 OperationOutputParameter</a><ol>
</ol></li></ol></li></ol></li></ol></li></ol></nav>

<h1 id="Introduction" class="section">1. Introduction <a href="#Introduction">&sect;</a></h1><p>The Common Workflow Language (CWL) working group is an informal, multi-vendor
working group consisting of various organizations and individuals that have an
interest in portability of data analysis workflows.  The goal is to create
specifications like this one that enable data scientists to describe analysis
tools and workflows that are powerful, easy to use, portable, and support
reproducibility.</p>
<h2 id="Introduction_to_CWL_Workflow_standard_v1.2" class="section">1.1 Introduction to CWL Workflow standard v1.2 <a href="#Introduction_to_CWL_Workflow_standard_v1.2">&sect;</a></h2><p>This specification represents the latest stable release from the
CWL group.  Since the v1.1 release, v1.2 introduces the
following updates to the CWL Workflow standard.
Documents should to use <code>cwlVersion: v1.2</code> to make use of new
syntax and features introduced in v1.2.  Existing v1.1 documents
should be trivially updatable by changing <code>cwlVersion</code>, however
CWL documents that relied on previously undefined or
underspecified behavior may have slightly different behavior in
v1.2.</p>
<h2 id="Changelog" class="section">1.2 Changelog <a href="#Changelog">&sect;</a></h2><ul>
<li>Adds <code>when</code> field to <a href="#WorkflowStep">WorkflowStep</a> for conditional
execution</li>
<li>Adds <code>pickValue</code> field to <a href="#WorkflowStepInput">WorkflowStepInput</a> and
<a href="#WorkflowOutputParameter">WorkflowOutputParameter</a> for selecting among null and
non-null source values</li>
<li>Add abstract <a href="#Operation">Operation</a> that can be used as a
no-op stand-in to describe abstract workflows.</li>
<li><a href="#Workflow">Workflow</a>, <a href="#ExpressionTool">ExpressionTool</a> and
<a href="#Operation">Operation</a> can now express <code>intent</code> with an
identifier for the type of computational operation.</li>
<li>Clarify there are no limits on the size of file literal <code>contents</code>.</li>
<li>When using <code>loadContents</code> it now must fail when attempting to
load a file greater than 64 KiB instead of silently truncating
the data.</li>
<li>Note that only enum and record types can be typedef-ed</li>
<li>Escaping in <a href="#String_Interpolation">string interpolation</a> has
been added to the specification along with conformance tests.</li>
<li>Added discussion of <a href="#Packed_documents">packed documents</a>.</li>
<li>Specify behavior when <code>source</code> is a single-item list and no
linkMerge is set.</li>
<li>Added discussion about handling different document versions.</li>
<li>Added definition of <strong>data link</strong></li>
</ul>
<p>See also the <a href="CommandLineTool.html#Changelog">CWL Command Line Tool Description, v1.2 changelog</a>.
For other changes since CWL v1.0, see the
<a href="https://www.commonwl.org/v1.1/Workflow.html#Changelog">CWL Workflow Description, v1.1 changelog</a></p>
<h2 id="Purpose" class="section">1.3 Purpose <a href="#Purpose">&sect;</a></h2><p>The Common Workflow Language Command Line Tool Description
express workflows for data-intensive science, such as
bioinformatics, physics, astronomy, geoscience, and machine
learning.  This specification is intended to define a data and
execution model for Workflows that can be implemented on top of
a variety of computing platforms, ranging from an individual
workstation to cluster, grid, cloud, and high performance
computing systems. Details related to execution of these
workflow not laid out in this specification are open to
interpretation by the computing platform implementing this
specification.</p>
<h2 id="References_to_other_specifications" class="section">1.4 References to other specifications <a href="#References_to_other_specifications">&sect;</a></h2><p><strong>Javascript Object Notation (JSON)</strong>: <a href="http://json.org">http://json.org</a></p>
<p><strong>JSON Linked Data (JSON-LD)</strong>: <a href="http://json-ld.org">http://json-ld.org</a></p>
<p><strong>YAML</strong>: <a href="http://yaml.org">http://yaml.org</a></p>
<p><strong>Avro</strong>: <a href="https://avro.apache.org/docs/1.8.1/spec.html">https://avro.apache.org/docs/1.8.1/spec.html</a></p>
<p><strong>Uniform Resource Identifier (URI) Generic Syntax</strong>: <a href="https://tools.ietf.org/html/rfc3986">https://tools.ietf.org/html/rfc3986</a>)</p>
<p><strong>Internationalized Resource Identifiers (IRIs)</strong>:
<a href="https://tools.ietf.org/html/rfc3987">https://tools.ietf.org/html/rfc3987</a></p>
<p><strong>Portable Operating System Interface (POSIX.1-2008)</strong>: <a href="http://pubs.opengroup.org/onlinepubs/9699919799/">http://pubs.opengroup.org/onlinepubs/9699919799/</a></p>
<p><strong>Resource Description Framework (RDF)</strong>: <a href="http://www.w3.org/RDF/">http://www.w3.org/RDF/</a></p>
<p><strong>XDG Base Directory Specification</strong>: <a href="https://specifications.freedesktop.org/basedir-spec/basedir-spec-0.6.html">https://specifications.freedesktop.org/basedir-spec/basedir-spec-0.6.html</a></p>
<h2 id="Scope" class="section">1.5 Scope <a href="#Scope">&sect;</a></h2><p>This document describes CWL syntax, execution, and object model.  It
is not intended to document a CWL specific implementation, however it may
serve as a reference for the behavior of conforming implementations.</p>
<h2 id="Terminology" class="section">1.6 Terminology <a href="#Terminology">&sect;</a></h2><p>The terminology used to describe CWL documents is defined in the
Concepts section of the specification. The terms defined in the
following list are used in building those definitions and in describing the
actions of a CWL implementation:</p>
<p><strong>may</strong>: Conforming CWL documents and CWL implementations are permitted but
not required to behave as described.</p>
<p><strong>must</strong>: Conforming CWL documents and CWL implementations are required to behave
as described; otherwise they are in error.</p>
<p><strong>error</strong>: A violation of the rules of this specification; results are
undefined. Conforming implementations may detect and report an error and may
recover from it.</p>
<p><strong>fatal error</strong>: A violation of the rules of this specification; results are
undefined. Conforming implementations must not continue to execute the current
process and may report an error.</p>
<p><strong>at user option</strong>: Conforming software may or must (depending on the modal verb in
the sentence) behave as described; if it does, it must provide users a means to
enable or disable the behavior described.</p>
<p><strong>deprecated</strong>: Conforming software may implement a behavior for backwards
compatibility.  Portable CWL documents should not rely on deprecated behavior.
Behavior marked as deprecated may be removed entirely from future revisions of
the CWL specification.</p>
<h1 id="Data_model" class="section">2. Data model <a href="#Data_model">&sect;</a></h1><h2 id="Data_concepts" class="section">2.1 Data concepts <a href="#Data_concepts">&sect;</a></h2><p>An <strong>object</strong> is a data structure equivalent to the "object" type in JSON,
consisting of a unordered set of name/value pairs (referred to here as
<strong>fields</strong>) and where the name is a string and the value is a string, number,
boolean, array, or object.</p>
<p>A <strong>document</strong> is a file containing a serialized object, or an array of objects.</p>
<p>A <strong>process</strong> is a basic unit of computation which accepts input data,
performs some computation, and produces output data. Examples include
CommandLineTools, Workflows, and ExpressionTools.</p>
<p>An <strong>input object</strong> is an object describing the inputs to an
invocation of a process.  The fields of the input object are referred
to as "input parameters".</p>
<p>An <strong>output object</strong> is an object describing the output resulting from
an invocation of a process.  The fields of the output object are
referred to as "output parameters".</p>
<p>An <strong>input schema</strong> describes the valid format (required fields, data types)
for an input object.</p>
<p>An <strong>output schema</strong> describes the valid format for an output object.</p>
<p><strong>Metadata</strong> is information about workflows, tools, or input items.</p>
<h2 id="Syntax" class="section">2.2 Syntax <a href="#Syntax">&sect;</a></h2><p>CWL documents must consist of an object or array of objects represented using
JSON or YAML syntax.  Upon loading, a CWL implementation must apply the
preprocessing steps described in the
<a href="SchemaSalad.html">Semantic Annotations for Linked Avro Data (SALAD) Specification</a>.
An implementation may formally validate the structure of a CWL document using
SALAD schemas located at <a href="https://github.com/common-workflow-language/cwl-v1.2/">https://github.com/common-workflow-language/cwl-v1.2/</a></p>
<p>CWL documents commonly reference other CWL documents.  Each document
must declare the <code>cwlVersion</code> of that document.  Implementations must
validate against the document's declared version.  Implementations
should allow workflows to reference documents of both newer and older
CWL versions (up to the highest version of CWL supported by that
implementation).  Where the runtime enviroment or runtime behavior has
changed between versions, for that portion of the execution an
implementation must provide runtime enviroment and behavior consistent
with the document's declared version.  An implementation must not
expose a newer feature when executing a document that specifies an
older version that does not not include that feature.</p>
<h3 id="map" class="section">2.2.1 map <a href="#map">&sect;</a></h3><p>Note: This section is non-normative.</p>
<blockquote><p>type: array&lt;ComplexType&gt; |
map&lt;<code>key_field</code>, ComplexType&gt;</p>
</blockquote>
<p>The above syntax in the CWL specifications means there are two or more ways to write the given value.</p>
<p>Option one is a array and is the most verbose option.</p>
<p>Option one generic example:</p>
<pre><code>some_cwl_field:
  - key_field: a_complex_type1
    field2: foo
    field3: bar
  - key_field: a_complex_type2
    field2: foo2
    field3: bar2
  - key_field: a_complex_type3
</code></pre>
<p>Option one specific example using <a href="Workflow.html#Workflow">Workflow</a>.<a href="Workflow.html#WorkflowInputParameter">inputs</a>:</p>
<blockquote><p>array&lt;InputParameter&gt; |
map&lt;<code>id</code>, <code>type</code> | InputParameter&gt;</p>
</blockquote>
<pre><code>inputs:
  - id: workflow_input01
    type: string
  - id: workflow_input02
    type: File
    format: http://edamontology.org/format_2572
</code></pre>
<p>Option two is enabled by the <code>map&lt;…&gt;</code> syntax. Instead of an array of entries we
use a mapping, where one field of the <code>ComplexType</code> (here named <code>key_field</code>)
becomes the key in the map, and its value is the rest of the <code>ComplexType</code>
without the key field. If all of the other fields of the <code>ComplexType</code> are
optional and unneeded, then we can indicate this with an empty mapping as the
value: <code>a_complex_type3: {}</code></p>
<p>Option two generic example:</p>
<pre><code>some_cwl_field:
  a_complex_type1:  # this was the "key_field" from above
    field2: foo
    field3: bar
  a_complex_type2:
    field2: foo2
    field3: bar2
  a_complex_type3: {}  # we accept the defualt values for "field2" and "field3"
</code></pre>
<p>Option two specific example using <a href="Workflow.html#Workflow">Workflow</a>.<a href="Workflow.html#WorkflowInputParameter">inputs</a>:</p>
<blockquote><p>array&lt;InputParameter&gt; |
map&lt;<code>id</code>, <code>type</code> | InputParameter&gt;</p>
</blockquote>
<pre><code>inputs:
  workflow_input01:
    type: string
  workflow_input02:
    type: File
    format: http://edamontology.org/format_2572
</code></pre>
<p>Option two specific example using <a href="#SoftwareRequirement">SoftwareRequirement</a>.<a href="#SoftwarePackage">packages</a>:</p>
<blockquote><p>array&lt;SoftwarePackage&gt; |
map&lt;<code>package</code>, <code>specs</code> | SoftwarePackage&gt;</p>
</blockquote>
<pre><code>hints:
  SoftwareRequirement:
    packages:
      sourmash:
        specs: [ https://doi.org/10.21105/joss.00027 ]
      screed:
        version: [ "1.0" ]
      python: {}
</code></pre>
<p>`
Sometimes we have a third and even more compact option denoted like this:</p>
<blockquote><p>type: array&lt;ComplexType&gt; |
map&lt;<code>key_field</code>, <code>field2</code> | ComplexType&gt;</p>
</blockquote>
<p>For this example, if we only need the <code>key_field</code> and <code>field2</code> when specifying
our <code>ComplexType</code>s (because the other fields are optional and we are fine with
their default values) then we can abbreviate.</p>
<p>Option three generic example:</p>
<pre><code>some_cwl_field:
  a_complex_type1: foo   # we accept the default value for field3
  a_complex_type2: foo2  # we accept the default value for field3
  a_complex_type3: {}    # we accept the default values for "field2" and "field3"
</code></pre>
<p>Option three specific example using <a href="Workflow.html#Workflow">Workflow</a>.<a href="Workflow.html#WorkflowInputParameter">inputs</a>:</p>
<blockquote><p>array&lt;InputParameter&gt; |
map&lt;<code>id</code>, <code>type</code> | InputParameter&gt;</p>
</blockquote>
<pre><code>inputs:
  workflow_input01: string
  workflow_input02: File  # we accept the default of no File format
</code></pre>
<p>Option three specific example using <a href="#SoftwareRequirement">SoftwareRequirement</a>.<a href="#SoftwarePackage">packages</a>:</p>
<blockquote><p>array&lt;SoftwarePackage&gt; |
map&lt;<code>package</code>, <code>specs</code> | SoftwarePackage&gt;</p>
</blockquote>
<pre><code>hints:
  SoftwareRequirement:
    packages:
      sourmash: [ https://doi.org/10.21105/joss.00027 ]
      python: {}
</code></pre>
<p>What if some entries we want to mix the option 2 and 3? You can!</p>
<p>Mixed option 2 and 3 generic example:</p>
<pre><code>some_cwl_field:
  my_complex_type1: foo   # we accept the default value for field3
  my_complex_type2:
    field2: foo2
    field3: bar2          # we did not accept the default value for field3
                          # so we had to use the slightly expanded syntax
  my_complex_type3: {}    # as before, we accept the default values for both
                          # "field2" and "field3"
</code></pre>
<p>Mixed option 2 and 3 specific example using <a href="Workflow.html#Workflow">Workflow</a>.<a href="Workflow.html#WorkflowInputParameter">inputs</a>:</p>
<blockquote><p>array&lt;InputParameter&gt; |
map&lt;<code>id</code>, <code>type</code> | InputParameter&gt;</p>
</blockquote>
<pre><code>inputs:
  workflow_input01: string
  workflow_input02:     # we use the longer way
    type: File          # because we want to specify the "format" too
    format: http://edamontology.org/format_2572
</code></pre>
<p>Mixed option 2 and 3 specific example using <a href="#SoftwareRequirement">SoftwareRequirement</a>.<a href="#SoftwarePackage">packages</a>:</p>
<blockquote><p>array&lt;SoftwarePackage&gt; |
map&lt;<code>package</code>, <code>specs</code> | SoftwarePackage&gt;</p>
</blockquote>
<pre><code>hints:
  SoftwareRequirement:
    packages:
      sourmash: [ https://doi.org/10.21105/joss.00027 ]
      screed:
        specs: [ https://github.com/dib-lab/screed ]
        version: [ "1.0" ]
      python: {}
</code></pre>
<p>Note: The <code>map&lt;…&gt;</code> (compact) versions are optional for users, the verbose option #1 is
always allowed, but for presentation reasons option 3 and 2 may be preferred
by human readers. Consumers of CWL must support all three options.</p>
<p>The normative explanation for these variations, aimed at implementors, is in the
<a href="SchemaSalad.html#Identifier_maps">Schema Salad specification</a>.</p>
<h2 id="Identifiers" class="section">2.3 Identifiers <a href="#Identifiers">&sect;</a></h2><p>If an object contains an <code>id</code> field, that is used to uniquely identify the
object in that document.  The value of the <code>id</code> field must be unique over the
entire document.  Identifiers may be resolved relative to either the document
base and/or other identifiers following the rules are described in the
<a href="SchemaSalad.html#Identifier_resolution">Schema Salad specification</a>.</p>
<p>An implementation may choose to only honor references to object types for
which the <code>id</code> field is explicitly listed in this specification.</p>
<h2 id="Document_preprocessing" class="section">2.4 Document preprocessing <a href="#Document_preprocessing">&sect;</a></h2><p>An implementation must resolve <a href="SchemaSalad.html#Import">$import</a> and
<a href="SchemaSalad.html#Import">$include</a> directives as described in the
<a href="SchemaSalad.html">Schema Salad specification</a>.</p>
<p>Another transformation defined in Schema salad is simplification of data type definitions.
Type <code>&lt;T&gt;</code> ending with <code>?</code> should be transformed to <code>[&lt;T&gt;, "null"]</code>.
Type <code>&lt;T&gt;</code> ending with <code>[]</code> should be transformed to <code>{"type": "array", "items": &lt;T&gt;}</code></p>
<h2 id="Extensions_and_metadata" class="section">2.5 Extensions and metadata <a href="#Extensions_and_metadata">&sect;</a></h2><p>Input metadata (for example, a sample identifier) may be represented within
a tool or workflow using input parameters which are explicitly propagated to
output.  Future versions of this specification may define additional facilities
for working with input/output metadata.</p>
<p>Implementation extensions not required for correct execution (for example,
fields related to GUI presentation) and metadata about the tool or workflow
itself (for example, authorship for use in citations) may be provided as
additional fields on any object.  Such extensions fields must use a namespace
prefix listed in the <code>$namespaces</code> section of the document as described in the
<a href="SchemaSalad.html#Explicit_context">Schema Salad specification</a>.</p>
<p>It is recommended that concepts from schema.org are used whenever possible.
For the <code>$schema</code> field we recommend their RDF encoding: <a href="http://schema.org/version/latest/schema.rdf">http://schema.org/version/latest/schema.rdf</a></p>
<p>Implementation extensions which modify execution semantics must be <a href="#Requirements_and_hints">listed in
the <code>requirements</code> field</a>.</p>
<h2 id="Packed_documents" class="section">2.6 Packed documents <a href="#Packed_documents">&sect;</a></h2><p>A "packed" CWL document is one that contains multiple process objects.
This makes it possible to store and transmit a Workflow together with
the processes of each of its steps in a single file.</p>
<p>There are two methods to create packed documents: embedding and $graph.
These can be both appear in the same document.</p>
<p>"Embedding" is where the entire process object is copied into the
<code>run</code> field of a workflow step.  If the step process is a subworkflow,
it can be processed recursively to embed the processes of the
subworkflow steps, and so on.  Embedded process objects may optionally
include <code>id</code> fields.</p>
<p>A "$graph" document does not have a process object at the root.
Instead there is a <a href="SchemaSalad.html#Document_graph"><code>$graph</code></a> field
which consists of a list of process objects.  Each process object must
have an <code>id</code> field.  Workflow <code>run</code> fields cross-reference other
processes in the document <code>$graph</code> using the <code>id</code> of the process
object.</p>
<p>All process objects in a packed document must validate and execute as
the <code>cwlVersion</code> appearing the top level.  A <code>cwlVersion</code> field
appearing anywhere other than the top level must be ignored.</p>
<p>When executing a packed document, the reference to the document may
include a fragment identifier.  If present, the fragment identifier
specifies the <code>id</code> of the process to execute.</p>
<p>If the reference to the packed document does not include a fragment
identifier, the runner must choose the top-level process object as the
entry point.  If there is no top-level process object (as in the case
of <code>$graph</code>) then the runner must choose the process object with an id
of <code>#main</code>.  If there is no <code>#main</code> object, the runner must return an
error.</p>
<h1 id="Execution_model" class="section">3. Execution model <a href="#Execution_model">&sect;</a></h1><h2 id="Execution_concepts" class="section">3.1 Execution concepts <a href="#Execution_concepts">&sect;</a></h2><p>A <strong>parameter</strong> is a named symbolic input or output of process, with
an associated datatype or schema.  During execution, values are
assigned to parameters to make the input object or output object used
for concrete process invocation.</p>
<p>A <strong>CommandLineTool</strong> is a process characterized by the execution of a
standalone, non-interactive program which is invoked on some input,
produces output, and then terminates.</p>
<p>A <strong>workflow</strong> is a process characterized by multiple subprocess steps,
where step outputs are connected to the inputs of downstream steps to
form a directed acylic graph, and independent steps may run concurrently.</p>
<p>A <strong>runtime environment</strong> is the actual hardware and software environment when
executing a command line tool.  It includes, but is not limited to, the
hardware architecture, hardware resources, operating system, software runtime
(if applicable, such as the specific Python interpreter or the specific Java
virtual machine), libraries, modules, packages, utilities, and data files
required to run the tool.</p>
<p>A <strong>workflow platform</strong> is a specific hardware and software implementation
capable of interpreting CWL documents and executing the processes specified by
the document.  The responsibilities of the workflow platform may include
scheduling process invocation, setting up the necessary runtime environment,
making input data available, invoking the tool process, and collecting output.</p>
<p>A <strong>data link</strong> is a connection from a "Source" parameter to a "Sink"
parameter.  A data link expresses that when a value becomes available
for the source parameter, that value should be copied to the "sink"
parameter.  Reflecting the direction of data flow, a data link is
described as "outgoing" from the source and "inbound" to the sink.</p>
<p>A workflow platform may choose to only implement the Command Line Tool
Description part of the CWL specification.</p>
<p>It is intended that the workflow platform has broad leeway outside of this
specification to optimize use of computing resources and enforce policies
not covered by this specification.  Some areas that are currently out of
scope for CWL specification but may be handled by a specific workflow
platform include:</p>
<ul>
<li>Data security and permissions</li>
<li>Scheduling tool invocations on remote cluster or cloud compute nodes.</li>
<li>Using virtual machines or operating system containers to manage the runtime
(except as described in <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a>).</li>
<li>Using remote or distributed file systems to manage input and output files.</li>
<li>Transforming file paths.</li>
<li>Pausing, resuming or checkpointing processes or workflows.</li>
</ul>
<p>Conforming CWL processes must not assume anything about the runtime
environment or workflow platform unless explicitly declared though the use
of <a href="#Requirements_and_hints">process requirements</a>.</p>
<h2 id="Generic_execution_process" class="section">3.2 Generic execution process <a href="#Generic_execution_process">&sect;</a></h2><p>The generic execution sequence of a CWL process (including workflows
and command line line tools) is as follows.  Processes are
modeled as functions that consume an input object and produce an
output object.</p>
<ol>
<li>Load input object.</li>
<li>Load, process and validate a CWL document, yielding one or more process objects.
The <a href="SchemaSalad.html#Explicit_context"><code>$namespaces</code></a> present in the CWL document
are also used when validating and processing the input object.</li>
<li>If there are multiple process objects (due to <a href="SchemaSalad.html#Document_graph"><code>$graph</code></a>)
and which process object to start with is not specified in the input object (via
a <a href="#Executing_CWL_documents_as_scripts"><code>cwl:tool</code></a> entry) or by any other means
(like a URL fragment) then choose the process with the <code>id</code> of "#main" or "main".</li>
<li>Validate the input object against the <code>inputs</code> schema for the process.</li>
<li>Validate process requirements are met.</li>
<li>Perform any further setup required by the specific process type.</li>
<li>Execute the process.</li>
<li>Capture results of process execution into the output object.</li>
<li>Validate the output object against the <code>outputs</code> schema for the process.</li>
<li>Report the output object to the process caller.</li>
</ol>
<h2 id="Requirements_and_hints" class="section">3.3 Requirements and hints <a href="#Requirements_and_hints">&sect;</a></h2><p>A <strong>process requirement</strong> modifies the semantics or runtime
environment of a process.  If an implementation cannot satisfy all
requirements, or a requirement is listed which is not recognized by the
implementation, it is a fatal error and the implementation must not attempt
to run the process, unless overridden at user option.</p>
<p>A <strong>hint</strong> is similar to a requirement; however, it is not an error if an
implementation cannot satisfy all hints.  The implementation may report a
warning if a hint cannot be satisfied.</p>
<p>Optionally, implementations may allow requirements to be specified in the input
object document as an array of requirements under the field name
<code>cwl:requirements</code>. If implementations allow this, then such requirements
should be combined with any requirements present in the corresponding Process
as if they were specified there.</p>
<p>Requirements specified in a parent Workflow are inherited by step processes
if they are valid for that step. If the substep is a CommandLineTool
only the <code>InlineJavascriptRequirement</code>, <code>SchemaDefRequirement</code>, <code>DockerRequirement</code>,
<code>SoftwareRequirement</code>, <code>InitialWorkDirRequirement</code>, <code>EnvVarRequirement</code>,
<code>ShellCommandRequirement</code>, <code>ResourceRequirement</code> are valid.</p>
<p><em>As good practice, it is best to have process requirements be self-contained,
such that each process can run successfully by itself.</em></p>
<p>If the same process requirement appears at different levels of the
workflow, the most specific instance of the requirement is used, that is,
an entry in <code>requirements</code> on a process implementation such as
CommandLineTool will take precedence over an entry in <code>requirements</code>
specified in a workflow step, and an entry in <code>requirements</code> on a workflow
step takes precedence over the workflow.  Entries in <code>hints</code> are resolved
the same way.</p>
<p>Requirements override hints.  If a process implementation provides a
process requirement in <code>hints</code> which is also provided in <code>requirements</code> by
an enclosing workflow or workflow step, the enclosing <code>requirements</code> takes
precedence.</p>
<h2 id="Parameter_references" class="section">3.4 Parameter references <a href="#Parameter_references">&sect;</a></h2><p>Parameter references are denoted by the syntax <code>$(...)</code> and may be used in any
field permitting the pseudo-type <code>Expression</code>, as specified by this document.
Conforming implementations must support parameter references.  Parameter
references use the following subset of
<a href="http://www.ecma-international.org/ecma-262/5.1/">Javascript/ECMAScript 5.1</a>
syntax, but they are designed to not require a Javascript engine for evaluation.</p>
<p>In the following <a href="https://en.wikipedia.org/wiki/Backus%E2%80%93Naur_Form">BNF grammar</a>,
character classes and grammar rules are denoted in '{}', '-' denotes
exclusion from a character class, '(())' denotes grouping, '|' denotes
alternates, trailing '*' denotes zero or more repeats, '+' denote one
or more repeats, and all other characters are literal values.</p>
<p>
<table class="table">
<tr><td>symbol::             </td><td>{Unicode alphanumeric}+</td></tr>
<tr><td>singleq::            </td><td>[' (( {character - { | \ ' \} } ))* ']</td></tr>
<tr><td>doubleq::            </td><td>[" (( {character - { | \ " \} } ))* "]</td></tr>
<tr><td>index::              </td><td>[ {decimal digit}+ ]</td></tr>
<tr><td>segment::            </td><td>. {symbol} | {singleq} | {doubleq} | {index}</td></tr>
<tr><td>parameter reference::</td><td>$( {symbol} {segment}*)</td></tr>
</table>
</p><p>Use the following algorithm to resolve a parameter reference:</p>
<ol>
<li>Match the leading symbol as the key</li>
<li>Look up the key in the parameter context (described below) to get the current value.
It is an error if the key is not found in the parameter context.</li>
<li>If there are no subsequent segments, terminate and return current value</li>
<li>Else, match the next segment</li>
<li>Extract the symbol, string, or index from the segment as the key</li>
<li>Look up the key in current value and assign as new current value.  If
the key is a symbol or string, the current value must be an object.
If the key is an index, the current value must be an array or string.
It is an error if the key does not match the required type, or the key is not found or out
of range.</li>
<li>Repeat steps 3-6</li>
</ol>
<p>The root namespace is the parameter context.  The following parameters must
be provided:</p>
<ul>
<li><code>inputs</code>: The input object to the current Process.</li>
<li><code>self</code>: A context-specific value.  The contextual values for 'self' are
documented for specific fields elsewhere in this specification.  If
a contextual value of 'self' is not documented for a field, it
must be 'null'.</li>
<li><code>runtime</code>: An object containing configuration details.  Specific to the
process type.  An implementation may provide
opaque strings for any or all fields of <code>runtime</code>.  These must be
filled in by the platform after processing the Tool but before actual
execution.  Parameter references and expressions may only use the
literal string value of the field and must not perform computation on
the contents, except where noted otherwise.</li>
</ul>
<p>If the value of a field has no leading or trailing non-whitespace
characters around a parameter reference, the effective value of the field
becomes the value of the referenced parameter, preserving the return type.</p>
<h3 id="String_interpolation" class="section">3.4.1 String interpolation <a href="#String_interpolation">&sect;</a></h3><p>If the value of a field has non-whitespace leading or trailing characters
around a parameter reference, it is subject to string interpolation.  The
effective value of the field is a string containing the leading characters,
followed by the string value of the parameter reference, followed by the
trailing characters.  The string value of the parameter reference is its
textual JSON representation with the following rules:</p>
<ul>
<li>Strings are replaced the literal text of the string, any escaped
characters replaced by the literal characters they represent, and
there are no leading or trailing quotes.</li>
<li>Objects entries are sorted by key</li>
</ul>
<p>Multiple parameter references may appear in a single field.  This case
must be treated as a string interpolation.  After interpolating the first
parameter reference, interpolation must be recursively applied to the
trailing characters to yield the final string value.</p>
<p>When text embedded in a CWL file represents code for another
programming language, the use of <code>$(...)</code> (and <code>${...}</code> in the case of
expressions) may conflict with the syntax of that language.  For
example, when writing shell scripts, <code>$(...)</code> is used to execute a
command in a subshell and replace a portion of the command line with
the standard output of that command.</p>
<p>The following escaping rules apply.  The scanner makes a single pass
from start to end with 3-character lookahead.  After performing a
replacement scanning resumes at the next character following the
replaced substring.</p>
<ol>
<li>The substrings <code>\$(</code> and <code>\${</code> are replaced by <code>$(</code> and <code>${</code>
respectively.  No parameter or expression evaluation
interpolation occurs.</li>
<li>A double backslash <code>\\</code> is replaced by a single backslash <code>\</code>.</li>
<li>A substring starting with a backslash that does not match one of
the previous rules is left unchanged.</li>
</ol>
<h2 id="Expressions_(Optional)" class="section">3.5 Expressions (Optional) <a href="#Expressions_(Optional)">&sect;</a></h2><p>An expression is a fragment of <a href="http://www.ecma-international.org/ecma-262/5.1/">Javascript/ECMAScript
5.1</a> code evaluated by the
workflow platform to affect the inputs, outputs, or
behavior of a process.  In the generic execution sequence, expressions may
be evaluated during step 5 (process setup), step 6 (execute process),
and/or step 7 (capture output).  Expressions are distinct from regular
processes in that they are intended to modify the behavior of the workflow
itself rather than perform the primary work of the workflow.</p>
<p>Expressions in CWL are an optional feature and are not required to be
implemented by all consumers of CWL documents. They should be used sparingly,
when there is no other way to achieve the desired outcome. Excessive use of
expressions may be a signal that other refactoring of the tools or workflows
would benefit the author, runtime, and users of the CWL document in question.</p>
<p>To declare the use of expressions, the document must include the process
requirement <code>InlineJavascriptRequirement</code>.  Expressions may be used in any
field permitting the pseudo-type <code>Expression</code>, as specified by this
document.</p>
<p>Expressions are denoted by the syntax <code>$(...)</code> or <code>${...}</code>.  A code
fragment wrapped in the <code>$(...)</code> syntax must be evaluated as a
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11">ECMAScript expression</a>.  A
code fragment wrapped in the <code>${...}</code> syntax must be evaluated as a
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-13">ECMAScript function body</a>
for an anonymous, zero-argument function.  Expressions must return a valid JSON
data type: one of null, string, number, boolean, array, object. Other return
values must result in a <code>permanentFailure</code>. Implementations must permit any
syntactically valid Javascript and account for nesting of parenthesis or braces
and that strings that may contain parenthesis or braces when scanning for
expressions.</p>
<p>The runtime must include any code defined in the <a href="#InlineJavascriptRequirement">"expressionLib" field of
InlineJavascriptRequirement</a> prior to
executing the actual expression.</p>
<p>Before executing the expression, the runtime must initialize as global
variables the fields of the parameter context described above.</p>
<p>The effective value of the field after expression evaluation follows the
same rules as parameter references discussed above.  Multiple expressions
may appear in a single field.</p>
<p>Expressions must be evaluated in an isolated context (a "sandbox") which
permits no side effects to leak outside the context.  Expressions also must
be evaluated in <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-4.2.2">Javascript strict mode</a>.</p>
<p>The order in which expressions are evaluated is undefined except where
otherwise noted in this document.</p>
<p>An implementation may choose to implement parameter references by
evaluating as a Javascript expression.  The results of evaluating
parameter references must be identical whether implemented by Javascript
evaluation or some other means.</p>
<p>Implementations may apply other limits, such as process isolation, timeouts,
and operating system containers/jails to minimize the security risks associated
with running untrusted code embedded in a CWL document.</p>
<p>Javascript exceptions thrown from a CWL expression must result in a
<code>permanentFailure</code> of the CWL process.</p>
<h2 id="Executing_CWL_documents_as_scripts" class="section">3.6 Executing CWL documents as scripts <a href="#Executing_CWL_documents_as_scripts">&sect;</a></h2><p>By convention, a CWL document may begin with <code>#!/usr/bin/env cwl-runner</code>
and be marked as executable (the POSIX "+x" permission bits) to enable it
to be executed directly.  A workflow platform may support this mode of
operation; if so, it must provide <code>cwl-runner</code> as an alias for the
platform's CWL implementation.</p>
<p>A CWL input object document may similarly begin with <code>#!/usr/bin/env
cwl-runner</code> and be marked as executable.  In this case, the input object
must include the field <code>cwl:tool</code> supplying an IRI to the default CWL
document that should be executed using the fields of the input object as
input parameters.</p>
<p>The <code>cwl-runner</code> interface is required for conformance testing and is
documented in <a href="cwl-runner.cwl">cwl-runner.cwl</a>.</p>
<h2 id="Discovering_CWL_documents_on_a_local_filesystem" class="section">3.7 Discovering CWL documents on a local filesystem <a href="#Discovering_CWL_documents_on_a_local_filesystem">&sect;</a></h2><p>To discover CWL documents look in the following locations:</p>
<p>For each value in the <code>XDG_DATA_DIRS</code> environment variable (which is a <code>:</code> colon
separated list), check the <code>./commonwl</code> subdirectory. If <code>XDG_DATA_DIRS</code> is
unset or empty, then check using the default value for <code>XDG_DATA_DIRS</code>:
<code>/usr/local/share/:/usr/share/</code> (That is to say, check <code>/usr/share/commonwl/</code>
and <code>/usr/local/share/commonwl/</code>)</p>
<p>Then check <code>$XDG_DATA_HOME/commonwl/</code>.</p>
<p>If the <code>XDG_DATA_HOME</code> environment variable is unset, its default value is
<code>$HOME/.local/share</code> (That is to say, check <code>$HOME/.local/share/commonwl</code>)</p>
<p><code>$XDG_DATA_HOME</code> and <code>$XDG_DATA_DIRS</code> are from the <a href="http://standards.freedesktop.org/basedir-spec/basedir-spec-0.6.html">XDG Base Directory
Specification</a></p>
<h1 id="Workflow" class="section">4. Workflow <a href="#Workflow">&sect;</a></h1><p>A workflow describes a set of <strong>steps</strong> and the <strong>dependencies</strong> between
those steps.  When a step produces output that will be consumed by a
second step, the first step is a dependency of the second step.</p>
<p>When there is a dependency, the workflow engine must execute the preceeding
step and wait for it to successfully produce output before executing the
dependent step.  If two steps are defined in the workflow graph that
are not directly or indirectly dependent, these steps are <strong>independent</strong>,
and may execute in any order or execute concurrently.  A workflow is
complete when all steps have been executed.</p>
<p>Dependencies between parameters are expressed using the <code>source</code>
field on <a href="#WorkflowStepInput">workflow step input parameters</a> and
<code>outputSource</code> field on <a href="#WorkflowOutputParameter">workflow output
parameters</a>.</p>
<p>The <code>source</code> field on each workflow step input parameter expresses
the data links that contribute to the value of the step input
parameter (the "sink").  A workflow step can only begin execution
when every data link connected to a step has been fulfilled.</p>
<p>The <code>outputSource</code> field on each workflow step input parameter
expresses the data links that contribute to the value of the
workflow output parameter (the "sink").  Workflow execution cannot
complete successfully until every data link connected to an output
parameter has been fulfilled.</p>
<h3 id="Workflow_success_and_failure" class="section">Workflow success and failure <a href="#Workflow_success_and_failure">&sect;</a></h3><p>A completed step must result in one of <code>success</code>, <code>temporaryFailure</code> or
<code>permanentFailure</code> states.  An implementation may choose to retry a step
execution which resulted in <code>temporaryFailure</code>.  An implementation may
choose to either continue running other steps of a workflow, or terminate
immediately upon <code>permanentFailure</code>.</p>
<ul>
<li><p>If any step of a workflow execution results in <code>permanentFailure</code>, then
the workflow status is <code>permanentFailure</code>.</p>
</li>
<li><p>If one or more steps result in <code>temporaryFailure</code> and all other steps
complete <code>success</code> or are not executed, then the workflow status is
<code>temporaryFailure</code>.</p>
</li>
<li><p>If all workflow steps are executed and complete with <code>success</code>, then the
workflow status is <code>success</code>.</p>
</li>
</ul>
<h2 id="Extensions" class="section">Extensions <a href="#Extensions">&sect;</a></h2><p><a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> and
<a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> are
available as standard <a href="#Extensions_and_Metadata">extensions</a> to core
workflow semantics.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#WorkflowInputParameter">WorkflowInputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#WorkflowInputParameter">WorkflowInputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the input parameters of the process.  The process is ready to
run when all required input parameters are associated with concrete
values.  Input parameters include a schema for each parameter which is
used to validate the input object.  It may also be used to build a user
interface for constructing the input object.</p>
<p>When accepting an input object, all input parameters must have a value.
If an input parameter is missing from the input object, it must be
assigned a value of <code>null</code> (or the value of <code>default</code> for that
parameter, if provided) for the purposes of validation and evaluation
of expressions.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>outputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#WorkflowOutputParameter">WorkflowOutputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#WorkflowOutputParameter">WorkflowOutputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the parameters representing the output of the process.  May be
used to generate and/or validate the output object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>steps</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#WorkflowStep">WorkflowStep</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<a href="#WorkflowStep">WorkflowStep</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The individual steps that make up the workflow.  Each step is executed when all of its
input data links are fufilled.  An implementation may choose to execute
the steps in a different order than listed and/or execute steps
concurrently, provided that dependencies between steps are met.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>requirements</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt; | <br><a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares requirements that apply to either the runtime environment or the
workflow engine that must be met in order to execute this process.  If
an implementation cannot satisfy all requirements, or a requirement is
listed which is not recognized by the implementation, it is a fatal
error and the implementation must not attempt to run the process,
unless overridden at user option.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>hints</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#Any">Any</a>&gt; | <a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#Any">Any</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares hints applying to either the runtime environment or the
workflow engine that may be helpful in executing this process.  It is
not an error if an implementation cannot satisfy all hints, however
the implementation may report a warning.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>cwlVersion</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLVersion">CWLVersion</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>CWL document version. Always required at the document root. Not
required for a Process embedded inside another Process.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>intent</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>An identifier for the type of computational operation, of this Process.
Especially useful for "class: Operation", but can also be used for
CommandLineTool, Workflow, or ExpressionTool.</p>
<p>If provided, then this must be an IRI of a concept node that
represents the type of operation, preferrably defined within an ontology.</p>
<p>For example, in the domain of bioinformatics, one can use an IRI from
the EDAM Ontology's <a href="http://edamontology.org/operation_0004">Operation concept nodes</a>,
like <a href="http://edamontology.org/operation_2928">Alignment</a>,
or <a href="http://edamontology.org/operation_3432">Clustering</a>; or a more
specific Operation concept like
<a href="http://edamontology.org/operation_3199">Split read mapping</a>.</p>
</div>
</div></div><h2 id="WorkflowInputParameter" class="section">4.1 WorkflowInputParameter <a href="#WorkflowInputParameter">&sect;</a></h2><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specify valid types of data that may be assigned to this parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt; | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This must be one or more IRIs of concept nodes
that represents file formats which are allowed as input to this
parameter, preferrably defined within an ontology.  If no ontology is
available, file formats may be tested by exact match.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>If true, the file (or each file in the array) must be a UTF-8
text file 64 KiB or smaller, and the implementation must read
the entire contents of the file (or file array) and place it
in the <code>contents</code> field of the File object for use by
expressions.  If the size of the file is greater than 64 KiB,
the implementation must raise a fatal error.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: Directory</code> or is an array of <code>items: Directory</code>.</p>
<p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<p>The order of precedence for loadListing is:</p>
<ol>
<li><code>loadListing</code> on an individual parameter</li>
<li>Inherited from <code>LoadListingRequirement</code></li>
<li>By default: <code>no_listing</code></li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>default</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#Any">Any</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The default value to use for this parameter if the parameter is missing
from the input object, or if the value of the parameter in the input
object is <code>null</code>.  Default values are applied before evaluating expressions
(e.g. dependent <code>valueFrom</code> fields).</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputBinding</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#InputBinding">InputBinding</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Deprecated.  Preserved for v1.0 backwards compatability.  Will be removed in
CWL v2.0.  Use <code>WorkflowInputParameter.loadContents</code> instead.</p>
</div>
</div></div><h3 id="SecondaryFileSchema" class="section">4.1.1 SecondaryFileSchema <a href="#SecondaryFileSchema">&sect;</a></h3><p>Secondary files are specified using the following micro-DSL for secondary files:</p>
<ul>
<li>If the value is a string, it is transformed to an object with two fields
<code>pattern</code> and <code>required</code></li>
<li>By default, the value of <code>required</code> is <code>null</code>
(this indicates default behavior, which may be based on the context)</li>
<li>If the value ends with a question mark <code>?</code> the question mark is
stripped off and the value of the field <code>required</code> is set to <code>False</code></li>
<li>The remaining value is assigned to the field <code>pattern</code></li>
</ul>
<p>For implementation details and examples, please see
<a href="SchemaSalad.html#Domain_Specific_Language_for_secondary_files">this section</a>
in the Schema Salad specification.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>pattern</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Provides a pattern or expression specifying files or directories that
should be included alongside the primary file.</p>
<p>If the value is an expression, the value of <code>self</code> in the
expression must be the primary input or output File object to
which this binding applies.  The <code>basename</code>, <code>nameroot</code> and
<code>nameext</code> fields must be present in <code>self</code>.  For
<code>CommandLineTool</code> inputs the <code>location</code> field must also be
present.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  If secondary files were included on an input
File object as part of the Process invocation, they must also
be present in <code>secondaryFiles</code> on <code>self</code>.</p>
<p>The expression must return either: a filename string relative
to the path to the primary File, a File or Directory object
(<code>class: File</code> or 'class: Directory<code>) with either</code>location<code>(for inputs) or</code>path<code>(for outputs) and</code>basename` fields
set, or an array consisting of strings or File or Directory
objects as previously described.</p>
<p>It is legal to use <code>location</code> from a File or Directory object
passed in as input, including <code>location</code> from secondary files
on <code>self</code>.  If an expression returns a File object with the
same <code>location</code> but a different <code>basename</code> as a secondary file
that was passed in, the expression result takes precedence.
Setting the basename with an expression this way affects the
<code>path</code> where the secondary file will be staged to in the
CommandLineTool.</p>
<p>The expression may return "null" in which case there is no
secondary file from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable
tool descriptions should treat <code>location</code> as an opaque
identifier and avoid constructing new values from <code>location</code>,
but should construct relative references using <code>basename</code> or
<code>nameroot</code> instead, or propagate <code>location</code> from defined inputs.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>required</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>An implementation must not fail workflow execution if <code>required</code> is
set to <code>false</code> and the expected secondary file does not exist.
Default value for <code>required</code> field is <code>true</code> for secondary files on
input and <code>false</code> for secondary files on output.</p>
</div>
</div></div><h3 id="Expression" class="section">4.1.2 Expression <a href="#Expression">&sect;</a></h3><p>'Expression' is not a real type.  It indicates that a field must allow
runtime parameter references.  If <a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a>
is declared and supported by the platform, the field must also allow
Javascript expressions.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>ExpressionPlaceholder</code></td><td></td></tr></table><h3 id="LoadListingEnum" class="section">4.1.3 LoadListingEnum <a href="#LoadListingEnum">&sect;</a></h3><p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>no_listing</code></td><td> Do not load the directory listing.</td></tr><tr><td><code>shallow_listing</code></td><td> Only load the top level listing, do not recurse into subdirectories.</td></tr><tr><td><code>deep_listing</code></td><td> Load the directory listing and recursively load all subdirectories as well.</td></tr></table><h3 id="Any" class="section">4.1.4 Any <a href="#Any">&sect;</a></h3><p>The <strong>Any</strong> type validates for any non-null value.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>Any</code></td><td></td></tr></table><h3 id="CWLType" class="section">4.1.5 CWLType <a href="#CWLType">&sect;</a></h3><p>Extends primitive types with the concept of a file and directory as a builtin type.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>null</code></td><td> no value</td></tr><tr><td><code>boolean</code></td><td> a binary value</td></tr><tr><td><code>int</code></td><td> 32-bit signed integer</td></tr><tr><td><code>long</code></td><td> 64-bit signed integer</td></tr><tr><td><code>float</code></td><td> single precision (32-bit) IEEE 754 floating-point number</td></tr><tr><td><code>double</code></td><td> double precision (64-bit) IEEE 754 floating-point number</td></tr><tr><td><code>string</code></td><td> Unicode character sequence</td></tr><tr><td><code>File</code></td><td> A File object</td></tr><tr><td><code>Directory</code></td><td> A Directory object</td></tr></table><h3 id="File" class="section">4.1.6 File <a href="#File">&sect;</a></h3><p>Represents a file (or group of files when <code>secondaryFiles</code> is provided) that
will be accessible by tools using standard POSIX file system call API such as
open(2) and read(2).</p>
<p>Files are represented as objects with <code>class</code> of <code>File</code>.  File objects have
a number of properties that provide metadata about the file.</p>
<p>The <code>location</code> property of a File is a URI that uniquely identifies the
file.  Implementations must support the file:// URI scheme and may support
other schemes such as http://.  The value of <code>location</code> may also be a
relative reference, in which case it must be resolved relative to the URI
of the document it appears in.  Alternately to <code>location</code>, implementations
must also accept the <code>path</code> property on File, which must be a filesystem
path available on the same host as the CWL runner (for inputs) or the
runtime environment of a command line tool execution (for command line tool
outputs).</p>
<p>If no <code>location</code> or <code>path</code> is specified, a file object must specify
<code>contents</code> with the UTF-8 text content of the file.  This is a "file
literal".  File literals do not correspond to external resources, but are
created on disk with <code>contents</code> with when needed for a executing a tool.
Where appropriate, expressions can return file literals to define new files
on a runtime.  The maximum size of <code>contents</code> is 64 kilobytes.</p>
<p>The <code>basename</code> property defines the filename on disk where the file is
staged.  This may differ from the resource name.  If not provided,
<code>basename</code> must be computed from the last path part of <code>location</code> and made
available to expressions.</p>
<p>The <code>secondaryFiles</code> property is a list of File or Directory objects that
must be staged in the same directory as the primary file.  It is an error
for file names to be duplicated in <code>secondaryFiles</code>.</p>
<p>The <code>size</code> property is the size in bytes of the File.  It must be computed
from the resource and made available to expressions.  The <code>checksum</code> field
contains a cryptographic hash of the file content for use it verifying file
contents.  Implementations may, at user option, enable or disable
computation of the <code>checksum</code> field for performance or other reasons.
However, the ability to compute output checksums is required to pass the
CWL conformance test suite.</p>
<p>When executing a CommandLineTool, the files and secondary files may be
staged to an arbitrary directory, but must use the value of <code>basename</code> for
the filename.  The <code>path</code> property must be file path in the context of the
tool execution runtime (local to the compute node, or within the executing
container).  All computed properties should be available to expressions.
File literals also must be staged and <code>path</code> must be set.</p>
<p>When collecting CommandLineTool outputs, <code>glob</code> matching returns file paths
(with the <code>path</code> property) and the derived properties. This can all be
modified by <code>outputEval</code>.  Alternately, if the file <code>cwl.output.json</code> is
present in the output, <code>outputBinding</code> is ignored.</p>
<p>File objects in the output must provide either a <code>location</code> URI or a <code>path</code>
property in the context of the tool execution runtime (local to the compute
node, or within the executing container).</p>
<p>When evaluating an ExpressionTool, file objects must be referenced via
<code>location</code> (the expression tool does not have access to files on disk so
<code>path</code> is meaningless) or as file literals.  It is legal to return a file
object with an existing <code>location</code> but a different <code>basename</code>.  The
<code>loadContents</code> field of ExpressionTool inputs behaves the same as on
CommandLineTool inputs, however it is not meaningful on the outputs.</p>
<p>An ExpressionTool may forward file references from input to output by using
the same value for <code>location</code>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>File</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>File</code> to indicate this object describes a file.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>location</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>An IRI that identifies the file resource.  This may be a relative
reference, in which case it must be resolved using the base IRI of the
document.  The location may refer to a local or remote resource; the
implementation must use the IRI to retrieve file content.  If an
implementation is unable to retrieve the file content stored at a
remote resource (due to unsupported protocol, access denied, or other
issue) it must signal an error.</p>
<p>If the <code>location</code> field is not provided, the <code>contents</code> field must be
provided.  The implementation must assign a unique identifier for
the <code>location</code> field.</p>
<p>If the <code>path</code> field is provided but the <code>location</code> field is not, an
implementation may assign the value of the <code>path</code> field to <code>location</code>,
then follow the rules above.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>path</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The local host path where the File is available when a CommandLineTool is
executed.  This field must be set by the implementation.  The final
path component must match the value of <code>basename</code>.  This field
must not be used in any other context.  The command line tool being
executed must be able to to access the file at <code>path</code> using the POSIX
<code>open(2)</code> syscall.</p>
<p>As a special case, if the <code>path</code> field is provided but the <code>location</code>
field is not, an implementation may assign the value of the <code>path</code>
field to <code>location</code>, and remove the <code>path</code> field.</p>
<p>If the <code>path</code> contains <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_02">POSIX shell metacharacters</a>
(<code>|</code>,<code>&amp;</code>, <code>;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>(</code>,<code>)</code>, <code>$</code>,<code>`</code>, <code>\</code>, <code>"</code>, <code>'</code>,
<code>&lt;space&gt;</code>, <code>&lt;tab&gt;</code>, and <code>&lt;newline&gt;</code>) or characters
<a href="http://www.iana.org/assignments/idna-tables-6.3.0/idna-tables-6.3.0.xhtml">not allowed</a>
for <a href="https://tools.ietf.org/html/rfc6452">Internationalized Domain Names for Applications</a>
then implementations may terminate the process with a
<code>permanentFailure</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>basename</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The base name of the file, that is, the name of the file without any
leading directory path.  The base name must not contain a slash <code>/</code>.</p>
<p>If not provided, the implementation must set this field based on the
<code>location</code> field by taking the final path component after parsing
<code>location</code> as an IRI.  If <code>basename</code> is provided, it is not required to
match the value from <code>location</code>.</p>
<p>When this file is made available to a CommandLineTool, it must be named
with <code>basename</code>, i.e. the final component of the <code>path</code> field must match
<code>basename</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>dirname</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The name of the directory containing file, that is, the path leading up
to the final slash in the path such that <code>dirname + '/' + basename ==
path</code>.</p>
<p>The implementation must set this field based on the value of <code>path</code>
prior to evaluating parameter references or expressions in a
CommandLineTool document.  This field must not be used in any other
context.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>nameroot</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The basename root such that <code>nameroot + nameext == basename</code>, and
<code>nameext</code> is empty or begins with a period and contains at most one
period.  For the purposess of path splitting leading periods on the
basename are ignored; a basename of <code>.cshrc</code> will have a nameroot of
<code>.cshrc</code>.</p>
<p>The implementation must set this field automatically based on the value
of <code>basename</code> prior to evaluating parameter references or expressions.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>nameext</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The basename extension such that <code>nameroot + nameext == basename</code>, and
<code>nameext</code> is empty or begins with a period and contains at most one
period.  Leading periods on the basename are ignored; a basename of
<code>.cshrc</code> will have an empty <code>nameext</code>.</p>
<p>The implementation must set this field automatically based on the value
of <code>basename</code> prior to evaluating parameter references or expressions.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>checksum</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Optional hash code for validating file integrity.  Currently must be in the form
"sha1$ + hexadecimal string" using the SHA-1 algorithm.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>size</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">long</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Optional file size</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#File">File</a>&nbsp;|&nbsp;<a href="#Directory">Directory</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A list of additional files or directories that are associated with the
primary file and must be transferred alongside the primary file.
Examples include indexes of the primary file, or external references
which must be included when loading primary document.  A file object
listed in <code>secondaryFiles</code> may itself include <code>secondaryFiles</code> for
which the same rules apply.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The format of the file: this must be an IRI of a concept node that
represents the file format, preferrably defined within an ontology.
If no ontology is available, file formats may be tested by exact match.</p>
<p>Reasoning about format compatability must be done by checking that an
input file format is the same, <code>owl:equivalentClass</code> or
<code>rdfs:subClassOf</code> the format required by the input parameter.
<code>owl:equivalentClass</code> is transitive with <code>rdfs:subClassOf</code>, e.g. if
<code>&lt;B&gt; owl:equivalentClass &lt;C&gt;</code> and <code>&lt;B&gt; owl:subclassOf &lt;A&gt;</code> then infer
<code>&lt;C&gt; owl:subclassOf &lt;A&gt;</code>.</p>
<p>File format ontologies may be provided in the "$schema" metadata at the
root of the document.  If no ontologies are specified in <code>$schema</code>, the
runtime may perform exact file format matches.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>contents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>File contents literal.</p>
<p>If neither <code>location</code> nor <code>path</code> is provided, <code>contents</code> must be
non-null.  The implementation must assign a unique identifier for the
<code>location</code> field.  When the file is staged as input to CommandLineTool,
the value of <code>contents</code> must be written to a file.</p>
<p>If <code>contents</code> is set as a result of an Javascript expression,
an <code>entry</code> in <code>InitialWorkDirRequirement</code>, or read in from
<code>cwl.output.json</code>, there is no specified upper limit on the
size of <code>contents</code>.  Implementations may have practical limits
on the size of <code>contents</code> based on memory and storage
available to the workflow runner or other factors.</p>
<p>If the <code>loadContents</code> field of an <code>InputParameter</code> or
<code>OutputParameter</code> is true, and the input or output File object
<code>location</code> is valid, the file must be a UTF-8 text file 64 KiB
or smaller, and the implementation must read the entire
contents of the file and place it in the <code>contents</code> field.  If
the size of the file is greater than 64 KiB, the
implementation must raise a fatal error.</p>
</div>
</div></div><h4 id="Directory" class="section">4.1.6.1 Directory <a href="#Directory">&sect;</a></h4><p>Represents a directory to present to a command line tool.</p>
<p>Directories are represented as objects with <code>class</code> of <code>Directory</code>.  Directory objects have
a number of properties that provide metadata about the directory.</p>
<p>The <code>location</code> property of a Directory is a URI that uniquely identifies
the directory.  Implementations must support the file:// URI scheme and may
support other schemes such as http://.  Alternately to <code>location</code>,
implementations must also accept the <code>path</code> property on Directory, which
must be a filesystem path available on the same host as the CWL runner (for
inputs) or the runtime environment of a command line tool execution (for
command line tool outputs).</p>
<p>A Directory object may have a <code>listing</code> field.  This is a list of File and
Directory objects that are contained in the Directory.  For each entry in
<code>listing</code>, the <code>basename</code> property defines the name of the File or
Subdirectory when staged to disk.  If <code>listing</code> is not provided, the
implementation must have some way of fetching the Directory listing at
runtime based on the <code>location</code> field.</p>
<p>If a Directory does not have <code>location</code>, it is a Directory literal.  A
Directory literal must provide <code>listing</code>.  Directory literals must be
created on disk at runtime as needed.</p>
<p>The resources in a Directory literal do not need to have any implied
relationship in their <code>location</code>.  For example, a Directory listing may
contain two files located on different hosts.  It is the responsibility of
the runtime to ensure that those files are staged to disk appropriately.
Secondary files associated with files in <code>listing</code> must also be staged to
the same Directory.</p>
<p>When executing a CommandLineTool, Directories must be recursively staged
first and have local values of <code>path</code> assigend.</p>
<p>Directory objects in CommandLineTool output must provide either a
<code>location</code> URI or a <code>path</code> property in the context of the tool execution
runtime (local to the compute node, or within the executing container).</p>
<p>An ExpressionTool may forward file references from input to output by using
the same value for <code>location</code>.</p>
<p>Name conflicts (the same <code>basename</code> appearing multiple times in <code>listing</code>
or in any entry in <code>secondaryFiles</code> in the listing) is a fatal error.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>Directory</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>Directory</code> to indicate this object describes a Directory.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>location</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>An IRI that identifies the directory resource.  This may be a relative
reference, in which case it must be resolved using the base IRI of the
document.  The location may refer to a local or remote resource.  If
the <code>listing</code> field is not set, the implementation must use the
location IRI to retrieve directory listing.  If an implementation is
unable to retrieve the directory listing stored at a remote resource (due to
unsupported protocol, access denied, or other issue) it must signal an
error.</p>
<p>If the <code>location</code> field is not provided, the <code>listing</code> field must be
provided.  The implementation must assign a unique identifier for
the <code>location</code> field.</p>
<p>If the <code>path</code> field is provided but the <code>location</code> field is not, an
implementation may assign the value of the <code>path</code> field to <code>location</code>,
then follow the rules above.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>path</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The local path where the Directory is made available prior to executing a
CommandLineTool.  This must be set by the implementation.  This field
must not be used in any other context.  The command line tool being
executed must be able to to access the directory at <code>path</code> using the POSIX
<code>opendir(2)</code> syscall.</p>
<p>If the <code>path</code> contains <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_02">POSIX shell metacharacters</a>
(<code>|</code>,<code>&amp;</code>, <code>;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>(</code>,<code>)</code>, <code>$</code>,<code>`</code>, <code>\</code>, <code>"</code>, <code>'</code>,
<code>&lt;space&gt;</code>, <code>&lt;tab&gt;</code>, and <code>&lt;newline&gt;</code>) or characters
<a href="http://www.iana.org/assignments/idna-tables-6.3.0/idna-tables-6.3.0.xhtml">not allowed</a>
for <a href="https://tools.ietf.org/html/rfc6452">Internationalized Domain Names for Applications</a>
then implementations may terminate the process with a
<code>permanentFailure</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>basename</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The base name of the directory, that is, the name of the file without any
leading directory path.  The base name must not contain a slash <code>/</code>.</p>
<p>If not provided, the implementation must set this field based on the
<code>location</code> field by taking the final path component after parsing
<code>location</code> as an IRI.  If <code>basename</code> is provided, it is not required to
match the value from <code>location</code>.</p>
<p>When this file is made available to a CommandLineTool, it must be named
with <code>basename</code>, i.e. the final component of the <code>path</code> field must match
<code>basename</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>listing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#File">File</a>&nbsp;|&nbsp;<a href="#Directory">Directory</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>List of files or subdirectories contained in this directory.  The name
of each file or subdirectory is determined by the <code>basename</code> field of
each <code>File</code> or <code>Directory</code> object.  It is an error if a <code>File</code> shares a
<code>basename</code> with any other entry in <code>listing</code>.  If two or more
<code>Directory</code> object share the same <code>basename</code>, this must be treated as
equivalent to a single subdirectory with the listings recursively
merged.</p>
</div>
</div></div><h3 id="InputRecordSchema" class="section">4.1.7 InputRecordSchema <a href="#InputRecordSchema">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>record</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>record</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>fields</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#InputRecordField">InputRecordField</a>&gt; | <br><a href='#map'>map</a>&lt;<code>name</code>,&nbsp;<code>type</code> | <a href="#InputRecordField">InputRecordField</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the fields of the record.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h3 id="InputRecordField" class="section">4.1.8 InputRecordField <a href="#InputRecordField">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The name of the field</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The field type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt; | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This must be one or more IRIs of concept nodes
that represents file formats which are allowed as input to this
parameter, preferrably defined within an ontology.  If no ontology is
available, file formats may be tested by exact match.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>If true, the file (or each file in the array) must be a UTF-8
text file 64 KiB or smaller, and the implementation must read
the entire contents of the file (or file array) and place it
in the <code>contents</code> field of the File object for use by
expressions.  If the size of the file is greater than 64 KiB,
the implementation must raise a fatal error.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: Directory</code> or is an array of <code>items: Directory</code>.</p>
<p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<p>The order of precedence for loadListing is:</p>
<ol>
<li><code>loadListing</code> on an individual parameter</li>
<li>Inherited from <code>LoadListingRequirement</code></li>
<li>By default: <code>no_listing</code></li>
</ol>
</div>
</div></div><h4 id="InputEnumSchema" class="section">4.1.8.1 InputEnumSchema <a href="#InputEnumSchema">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>symbols</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the set of valid symbols.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>enum</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>enum</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h4 id="InputArraySchema" class="section">4.1.8.2 InputArraySchema <a href="#InputArraySchema">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>items</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the type of the array elements.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>array</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>array</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h3 id="InputBinding" class="section">4.1.9 InputBinding <a href="#InputBinding">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Use of <code>loadContents</code> in <code>InputBinding</code> is deprecated.
Preserved for v1.0 backwards compatability.  Will be removed in
CWL v2.0.  Use <code>InputParameter.loadContents</code> instead.</p>
</div>
</div></div><h2 id="WorkflowOutputParameter" class="section">4.2 WorkflowOutputParameter <a href="#WorkflowOutputParameter">&sect;</a></h2><p>Describe an output parameter of a workflow.  The parameter must be
connected to one or more parameters defined in the workflow that
will provide the value of the output parameter. It is legal to
connect a WorkflowInputParameter to a WorkflowOutputParameter.</p>
<p>See <a href="#WorkflowStepInput">WorkflowStepInput</a> for discussion of
<code>linkMerge</code> and <code>pickValue</code>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specify valid types of data that may be assigned to this parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This is the file format that will be assigned to the output
File object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>outputSource</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specifies one or more workflow parameters that supply the value of to
the output parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>linkMerge</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LinkMergeMethod">LinkMergeMethod</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The method to use to merge multiple sources into a single array.
If not specified, the default method is "merge_nested".</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>pickValue</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#PickValueMethod">PickValueMethod</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The method to use to choose non-null elements among multiple sources.</p>
</div>
</div></div><h3 id="LinkMergeMethod" class="section">4.2.1 LinkMergeMethod <a href="#LinkMergeMethod">&sect;</a></h3><p>The input link merge method, described in <a href="#WorkflowStepInput">WorkflowStepInput</a>.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>merge_nested</code></td><td></td></tr><tr><td><code>merge_flattened</code></td><td></td></tr></table><h3 id="PickValueMethod" class="section">4.2.2 PickValueMethod <a href="#PickValueMethod">&sect;</a></h3><p>Picking non-null values among inbound data links, described in <a href="#WorkflowStepInput">WorkflowStepInput</a>.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>first_non_null</code></td><td></td></tr><tr><td><code>the_only_non_null</code></td><td></td></tr><tr><td><code>all_non_null</code></td><td></td></tr></table><h3 id="OutputRecordSchema" class="section">4.2.3 OutputRecordSchema <a href="#OutputRecordSchema">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>record</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>record</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>fields</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#OutputRecordField">OutputRecordField</a>&gt; | <br><a href='#map'>map</a>&lt;<code>name</code>,&nbsp;<code>type</code> | <a href="#OutputRecordField">OutputRecordField</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the fields of the record.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h3 id="OutputRecordField" class="section">4.2.4 OutputRecordField <a href="#OutputRecordField">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The name of the field</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The field type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This is the file format that will be assigned to the output
File object.</p>
</div>
</div></div><h4 id="OutputEnumSchema" class="section">4.2.4.1 OutputEnumSchema <a href="#OutputEnumSchema">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>symbols</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the set of valid symbols.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>enum</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>enum</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h4 id="OutputArraySchema" class="section">4.2.4.2 OutputArraySchema <a href="#OutputArraySchema">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>items</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the type of the array elements.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>array</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>array</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div></div><h2 id="WorkflowStep" class="section">4.3 WorkflowStep <a href="#WorkflowStep">&sect;</a></h2><p>A workflow step is an executable element of a workflow.  It specifies the
underlying process implementation (such as <code>CommandLineTool</code> or another
<code>Workflow</code>) in the <code>run</code> field and connects the input and output parameters
of the underlying process to workflow parameters.</p>
<h3 id="Scatter/gather" class="section">Scatter/gather <a href="#Scatter/gather">&sect;</a></h3><p>To use scatter/gather,
<a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> must be specified
in the workflow or workflow step requirements.</p>
<p>A "scatter" operation specifies that the associated workflow step or
subworkflow should execute separately over a list of input elements.  Each
job making up a scatter operation is independent and may be executed
concurrently.</p>
<p>The <code>scatter</code> field specifies one or more input parameters which will be
scattered.  An input parameter may be listed more than once.  The declared
type of each input parameter is implicitly becomes an array of items of the
input parameter type.  If a parameter is listed more than once, it becomes
a nested array.  As a result, upstream parameters which are connected to
scattered parameters must be arrays.</p>
<p>All output parameter types are also implicitly wrapped in arrays.  Each job
in the scatter results in an entry in the output array.</p>
<p>If any scattered parameter runtime value is an empty array, all outputs are
set to empty arrays and no work is done for the step, according to
applicable scattering rules.</p>
<p>If <code>scatter</code> declares more than one input parameter, <code>scatterMethod</code>
describes how to decompose the input into a discrete set of jobs.</p>
<ul>
<li><p><strong>dotproduct</strong> specifies that each of the input arrays are aligned and one
  element taken from each array to construct each job.  It is an error
  if all input arrays are not the same length.</p>
</li>
<li><p><strong>nested_crossproduct</strong> specifies the Cartesian product of the inputs,
  producing a job for every combination of the scattered inputs.  The
  output must be nested arrays for each level of scattering, in the
  order that the input arrays are listed in the <code>scatter</code> field.</p>
</li>
<li><p><strong>flat_crossproduct</strong> specifies the Cartesian product of the inputs,
  producing a job for every combination of the scattered inputs.  The
  output arrays must be flattened to a single level, but otherwise listed in the
  order that the input arrays are listed in the <code>scatter</code> field.</p>
</li>
</ul>
<h3 id="Conditional_execution_(Optional)" class="section">Conditional execution (Optional) <a href="#Conditional_execution_(Optional)">&sect;</a></h3><p>Conditional execution makes execution of a step conditional on an
expression.  A step that is not executed is "skipped".  A skipped
step produces <code>null</code> for all output parameters.</p>
<p>The condition is evaluated after <code>scatter</code>, using the input object
of each individual scatter job.  This means over a set of scatter
jobs, some may be executed and some may be skipped.  When the
results are gathered, skipped steps must be <code>null</code> in the output
arrays.</p>
<p>The <code>when</code> field controls conditional execution.  This is an
expression that must be evaluated with <code>inputs</code> bound to the step
input object (or individual scatter job), and returns a boolean
value.  It is an error if this expression returns a value other
than <code>true</code> or <code>false</code>.</p>
<p>Conditionals in CWL are an optional feature and are not required
to be implemented by all consumers of CWL documents.  An
implementation that does not support conditionals must return a
fatal error when attempting execute a workflow that uses
conditional constructs the implementation does not support.</p>
<h3 id="Subworkflows" class="section">Subworkflows <a href="#Subworkflows">&sect;</a></h3><p>To specify a nested workflow as part of a workflow step,
<a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> must be
specified in the workflow or workflow step requirements.</p>
<p>It is a fatal error if a workflow directly or indirectly invokes itself as
a subworkflow (recursive workflows are not allowed).</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>in</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#WorkflowStepInput">WorkflowStepInput</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>source</code> | <a href="#WorkflowStepInput">WorkflowStepInput</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the input parameters of the workflow step.  The process is ready to
run when all required input parameters are associated with concrete
values.  Input parameters include a schema for each parameter which is
used to validate the input object.  It may also be used build a user
interface for constructing the input object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>out</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&nbsp;|&nbsp;<a href="#WorkflowStepOutput">WorkflowStepOutput</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the parameters representing the output of the process.  May be
used to generate and/or validate the output object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>run</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="CommandLineTool.html#CommandLineTool">CommandLineTool</a> | <a href="#ExpressionTool">ExpressionTool</a> | <a href="#Workflow">Workflow</a> | <a href="#Operation">Operation</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specifies the process to run.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>requirements</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt; | <br><a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares requirements that apply to either the runtime environment or the
workflow engine that must be met in order to execute this workflow step.  If
an implementation cannot satisfy all requirements, or a requirement is
listed which is not recognized by the implementation, it is a fatal
error and the implementation must not attempt to run the process,
unless overridden at user option.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>hints</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#Any">Any</a>&gt; | <a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#Any">Any</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares hints applying to either the runtime environment or the
workflow engine that may be helpful in executing this workflow step.  It is
not an error if an implementation cannot satisfy all hints, however
the implementation may report a warning.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>when</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If defined, only run the step when the expression evaluates to
<code>true</code>.  If <code>false</code> the step is skipped.  A skipped step
produces a <code>null</code> on each output.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>scatter</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>scatterMethod</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#ScatterMethod">ScatterMethod</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Required if <code>scatter</code> is an array of more than one element.</p>
</div>
</div></div><h3 id="WorkflowStepInput" class="section">4.3.1 WorkflowStepInput <a href="#WorkflowStepInput">&sect;</a></h3><p>The input of a workflow step connects an upstream parameter (from the
workflow inputs, or the outputs of other workflows steps) with the input
parameters of the process specified by the <code>run</code> field. Only input parameters
declared by the target process will be passed through at runtime to the process
though additonal parameters may be specified (for use within <code>valueFrom</code>
expressions for instance) - unconnected or unused parameters do not represent an
error condition.</p>
<h4 id="Input_object" class="section">Input object <a href="#Input_object">&sect;</a></h4><p>A WorkflowStepInput object must contain an <code>id</code> field in the form
<code>#fieldname</code> or <code>#prefix/fieldname</code>.  When the <code>id</code> field contains a slash
<code>/</code> the field name consists of the characters following the final slash
(the prefix portion may contain one or more slashes to indicate scope).
This defines a field of the workflow step input object with the value of
the <code>source</code> parameter(s).</p>
<h4 id="Merging_multiple_inbound_data_links" class="section">Merging multiple inbound data links <a href="#Merging_multiple_inbound_data_links">&sect;</a></h4><p>To merge multiple inbound data links,
<a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> must be specified
in the workflow or workflow step requirements.</p>
<p>If the sink parameter is an array, or named in a <a href="#WorkflowStep">workflow
scatter</a> operation, there may be multiple inbound
data links listed in the <code>source</code> field.  The values from the
input links are merged depending on the method specified in the
<code>linkMerge</code> field.  If both <code>linkMerge</code> and <code>pickValue</code> are null
or not specified, and there is more than one element in the
<code>source</code> array, the default method is "merge_nested".</p>
<p>If both <code>linkMerge</code> and <code>pickValue</code> are null or not specified, and
there is only a single element in the <code>source</code>, then the input
parameter takes the scalar value from the single input link (it is
<em>not</em> wrapped in a single-list).</p>
<ul>
<li><p><strong>merge_nested</strong></p>
<p>The input must be an array consisting of exactly one entry for each
input link.  If "merge_nested" is specified with a single link, the value
from the link must be wrapped in a single-item list.</p>
</li>
<li><p><strong>merge_flattened</strong></p>
<ol>
<li>The source and sink parameters must be compatible types, or the source
type must be compatible with single element from the "items" type of
the destination array parameter.</li>
<li>Source parameters which are arrays are concatenated.
Source parameters which are single element types are appended as
single elements.</li>
</ol>
</li>
</ul>
<h4 id="Picking_non-null_values_among_inbound_data_links" class="section">Picking non-null values among inbound data links <a href="#Picking_non-null_values_among_inbound_data_links">&sect;</a></h4><p>If present, <code>pickValue</code> specifies how to picking non-null values among inbound data links.</p>
<p><code>pickValue</code> is evaluated</p>
<ol>
<li>Once all source values from upstream step or parameters are available.</li>
<li>After <code>linkMerge</code>.</li>
<li>Before <code>scatter</code> or <code>valueFrom</code>.</li>
</ol>
<p>This is specifically intended to be useful in combination with
<a href="#WorkflowStep">conditional execution</a>, where several upstream
steps may be connected to a single input (<code>source</code> is a list), and
skipped steps produce null values.</p>
<p>Static type checkers should check for type consistency after infering what the type
will be after <code>pickValue</code> is applied, just as they do currently for <code>linkMerge</code>.</p>
<ul>
<li><p><strong>first_non_null</strong></p>
<p>For the first level of a list input, pick the first non-null element.  The result is a scalar.
It is an error if there is no non-null element.  Examples:</p>
<ul>
<li><code>[null, x, null, y] -&gt; x</code></li>
<li><code>[null, [null], null, y] -&gt; [null]</code></li>
<li><code>[null, null, null] -&gt; Runtime Error</code></li>
</ul>
<p><em>Intended use case</em>: If-else pattern where the
value comes either from a conditional step or from a default or
fallback value. The conditional step(s) should be placed first in
the list.</p>
</li>
<li><p><strong>the_only_non_null</strong></p>
<p>For the first level of a list input, pick the single non-null element.  The result is a scalar.
It is an error if there is more than one non-null element.  Examples:</p>
<ul>
<li><code>[null, x, null] -&gt; x</code></li>
<li><code>[null, x, null, y] -&gt; Runtime Error</code></li>
<li><code>[null, [null], null] -&gt; [null]</code></li>
<li><code>[null, null, null] -&gt; Runtime Error</code></li>
</ul>
<p><em>Intended use case</em>: Switch type patterns where developer considers
more than one active code path as a workflow error
(possibly indicating an error in writing <code>when</code> condition expressions).</p>
</li>
<li><p><strong>all_non_null</strong></p>
<p>For the first level of a list input, pick all non-null values.
The result is a list, which may be empty.  Examples:</p>
<ul>
<li><code>[null, x, null] -&gt; [x]</code></li>
<li><code>[x, null, y] -&gt; [x, y]</code></li>
<li><code>[null, [x], [null]] -&gt; [[x], [null]]</code></li>
<li><code>[null, null, null] -&gt; []</code></li>
</ul>
<p><em>Intended use case</em>: It is valid to have more than one source, but
 sources are conditional, so null sources (from skipped steps)
 should be filtered out.</p>
</li>
</ul>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>source</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specifies one or more workflow parameters that will provide input to
the underlying step parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>linkMerge</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LinkMergeMethod">LinkMergeMethod</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The method to use to merge multiple inbound links into a single array.
If not specified, the default method is "merge_nested".</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>pickValue</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#PickValueMethod">PickValueMethod</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The method to use to choose non-null elements among multiple sources.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>If true, the file (or each file in the array) must be a UTF-8
text file 64 KiB or smaller, and the implementation must read
the entire contents of the file (or file array) and place it
in the <code>contents</code> field of the File object for use by
expressions.  If the size of the file is greater than 64 KiB,
the implementation must raise a fatal error.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: Directory</code> or is an array of <code>items: Directory</code>.</p>
<p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<p>The order of precedence for loadListing is:</p>
<ol>
<li><code>loadListing</code> on an individual parameter</li>
<li>Inherited from <code>LoadListingRequirement</code></li>
<li>By default: <code>no_listing</code></li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>default</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#Any">Any</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The default value for this parameter to use if either there is no
<code>source</code> field, or the value produced by the <code>source</code> is <code>null</code>.  The
default must be applied prior to scattering or evaluating <code>valueFrom</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>valueFrom</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>To use valueFrom, <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a> must
be specified in the workflow or workflow step requirements.</p>
<p>If <code>valueFrom</code> is a constant string value, use this as the value for
this input parameter.</p>
<p>If <code>valueFrom</code> is a parameter reference or expression, it must be
evaluated to yield the actual value to be assiged to the input field.</p>
<p>The <code>self</code> value in the parameter reference or expression must be</p>
<ol>
<li><code>null</code> if there is no <code>source</code> field</li>
<li>the value of the parameter(s) specified in the <code>source</code> field when this
workflow input parameter <strong>is not</strong> specified in this workflow step's <code>scatter</code> field.</li>
<li>an element of the parameter specified in the <code>source</code> field when this workflow input
parameter <strong>is</strong> specified in this workflow step's <code>scatter</code> field.</li>
</ol>
<p>The value of <code>inputs</code> in the parameter reference or expression must be
the input object to the workflow step after assigning the <code>source</code>
values, applying <code>default</code>, and then scattering.  The order of
evaluating <code>valueFrom</code> among step input parameters is undefined and the
result of evaluating <code>valueFrom</code> on a parameter must not be visible to
evaluation of <code>valueFrom</code> on other parameters.</p>
</div>
</div></div><h3 id="WorkflowStepOutput" class="section">4.3.2 WorkflowStepOutput <a href="#WorkflowStepOutput">&sect;</a></h3><p>Associate an output parameter of the underlying process with a workflow
parameter.  The workflow parameter (given in the <code>id</code> field) be may be used
as a <code>source</code> to connect with input parameters of other workflow steps, or
with an output parameter of the process.</p>
<p>A unique identifier for this workflow output parameter.  This is
the identifier to use in the <code>source</code> field of <code>WorkflowStepInput</code>
to connect the output value to downstream parameters.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div></div><h3 id="ScatterMethod" class="section">4.3.3 ScatterMethod <a href="#ScatterMethod">&sect;</a></h3><p>The scatter method, as described in <a href="#WorkflowStep">workflow step scatter</a>.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>dotproduct</code></td><td></td></tr><tr><td><code>nested_crossproduct</code></td><td></td></tr><tr><td><code>flat_crossproduct</code></td><td></td></tr></table><h3 id="InlineJavascriptRequirement" class="section">4.3.4 InlineJavascriptRequirement <a href="#InlineJavascriptRequirement">&sect;</a></h3><p>Indicates that the workflow platform must support inline Javascript expressions.
If this requirement is not present, the workflow platform must not perform expression
interpolatation.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'InlineJavascriptRequirement'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>expressionLib</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Additional code fragments that will also be inserted
before executing the expression code.  Allows for function definitions that may
be called from CWL expressions.</p>
</div>
</div></div><h3 id="SchemaDefRequirement" class="section">4.3.5 SchemaDefRequirement <a href="#SchemaDefRequirement">&sect;</a></h3><p>This field consists of an array of type definitions which must be used when
interpreting the <code>inputs</code> and <code>outputs</code> fields.  When a <code>type</code> field
contain a IRI, the implementation must check if the type is defined in
<code>schemaDefs</code> and use that definition.  If the type is not found in
<code>schemaDefs</code>, it is an error.  The entries in <code>schemaDefs</code> must be
processed in the order listed such that later schema definitions may refer
to earlier schema definitions.</p>
<ul>
<li><strong>Type definitions are allowed for <code>enum</code> and <code>record</code> types only.</strong></li>
<li>Type definitions may be shared by defining them in a file and then
<code>$include</code>-ing them in the <code>types</code> field.</li>
<li>A file can contain a list of type definitions</li>
</ul>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'SchemaDefRequirement'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>types</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CommandInputRecordSchema">CommandInputRecordSchema</a>&nbsp;|&nbsp;<a href="#CommandInputEnumSchema">CommandInputEnumSchema</a>&nbsp;|&nbsp;<a href="#CommandInputArraySchema">CommandInputArraySchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The list of type definitions.</p>
</div>
</div></div><h4 id="CommandInputRecordSchema" class="section">4.3.5.1 CommandInputRecordSchema <a href="#CommandInputRecordSchema">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>record</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>record</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>fields</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CommandInputRecordField">CommandInputRecordField</a>&gt; | <br><a href='#map'>map</a>&lt;<code>name</code>,&nbsp;<code>type</code> | <a href="#CommandInputRecordField">CommandInputRecordField</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the fields of the record.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputBinding</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CommandLineBinding">CommandLineBinding</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Describes how to turn this object into command line arguments.</p>
</div>
</div></div><h5 id="CommandInputRecordField" class="section">4.3.5.1.1 CommandInputRecordField <a href="#CommandInputRecordField">&sect;</a></h5><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The name of the field</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#CommandInputRecordSchema">CommandInputRecordSchema</a> | <a href="#CommandInputEnumSchema">CommandInputEnumSchema</a> | <a href="#CommandInputArraySchema">CommandInputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#CommandInputRecordSchema">CommandInputRecordSchema</a> | <a href="#CommandInputEnumSchema">CommandInputEnumSchema</a> | <a href="#CommandInputArraySchema">CommandInputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The field type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt; | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This must be one or more IRIs of concept nodes
that represents file formats which are allowed as input to this
parameter, preferrably defined within an ontology.  If no ontology is
available, file formats may be tested by exact match.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>If true, the file (or each file in the array) must be a UTF-8
text file 64 KiB or smaller, and the implementation must read
the entire contents of the file (or file array) and place it
in the <code>contents</code> field of the File object for use by
expressions.  If the size of the file is greater than 64 KiB,
the implementation must raise a fatal error.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: Directory</code> or is an array of <code>items: Directory</code>.</p>
<p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<p>The order of precedence for loadListing is:</p>
<ol>
<li><code>loadListing</code> on an individual parameter</li>
<li>Inherited from <code>LoadListingRequirement</code></li>
<li>By default: <code>no_listing</code></li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputBinding</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CommandLineBinding">CommandLineBinding</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Describes how to turn this object into command line arguments.</p>
</div>
</div></div><h6 id="CommandInputEnumSchema" class="section">4.3.5.1.1.1 CommandInputEnumSchema <a href="#CommandInputEnumSchema">&sect;</a></h6><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>symbols</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the set of valid symbols.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>enum</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>enum</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputBinding</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CommandLineBinding">CommandLineBinding</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Describes how to turn this object into command line arguments.</p>
</div>
</div></div><h6 id="CommandLineBinding" class="section">4.3.5.1.1.2 CommandLineBinding <a href="#CommandLineBinding">&sect;</a></h6><p>When listed under <code>inputBinding</code> in the input schema, the term
"value" refers to the the corresponding value in the input object.  For
binding objects listed in <code>CommandLineTool.arguments</code>, the term "value"
refers to the effective value after evaluating <code>valueFrom</code>.</p>
<p>The binding behavior when building the command line depends on the data
type of the value.  If there is a mismatch between the type described by
the input schema and the effective value, such as resulting from an
expression evaluation, an implementation must use the data type of the
effective value.</p>
<ul>
<li><p><strong>string</strong>: Add <code>prefix</code> and the string to the command line.</p>
</li>
<li><p><strong>number</strong>: Add <code>prefix</code> and decimal representation to command line.</p>
</li>
<li><p><strong>boolean</strong>: If true, add <code>prefix</code> to the command line.  If false, add
  nothing.</p>
</li>
<li><p><strong>File</strong>: Add <code>prefix</code> and the value of
<a href="#File"><code>File.path</code></a> to the command line.</p>
</li>
<li><p><strong>Directory</strong>: Add <code>prefix</code> and the value of
<a href="#Directory"><code>Directory.path</code></a> to the command line.</p>
</li>
<li><p><strong>array</strong>: If <code>itemSeparator</code> is specified, add <code>prefix</code> and the join
  the array into a single string with <code>itemSeparator</code> separating the
  items.  Otherwise first add <code>prefix</code>, then recursively process
  individual elements.
  If the array is empty, it does not add anything to command line.</p>
</li>
<li><p><strong>object</strong>: Add <code>prefix</code> only, and recursively add object fields for
  which <code>inputBinding</code> is specified.</p>
</li>
<li><p><strong>null</strong>: Add nothing.</p>
</li>
</ul>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Use of <code>loadContents</code> in <code>InputBinding</code> is deprecated.
Preserved for v1.0 backwards compatability.  Will be removed in
CWL v2.0.  Use <code>InputParameter.loadContents</code> instead.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>position</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">int</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The sorting key.  Default position is 0. If the inputBinding is
associated with an input parameter, then the value of <code>self</code> in the
expression will be the value of the input parameter.  Input parameter
defaults (as specified by the <code>InputParameter.default</code> field) must be
applied before evaluating the expression. Expressions must return a
single value of type int or a null.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>prefix</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Command line prefix to add before the value.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>separate</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If true (default), then the prefix and value must be added as separate
command line arguments; if false, prefix and value must be concatenated
into a single command line argument.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>itemSeparator</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Join the array elements into a single string with the elements
separated by by <code>itemSeparator</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>valueFrom</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If <code>valueFrom</code> is a constant string value, use this as the value and
apply the binding rules above.</p>
<p>If <code>valueFrom</code> is an expression, evaluate the expression to yield the
actual value to use to build the command line and apply the binding
rules above.  If the inputBinding is associated with an input
parameter, the value of <code>self</code> in the expression will be the value of
the input parameter.  Input parameter defaults (as specified by the
<code>InputParameter.default</code> field) must be applied before evaluating the
expression.</p>
<p>If the value of the associated input parameter is <code>null</code>, <code>valueFrom</code> is
not evaluated and nothing is added to the command line.</p>
<p>When a binding is part of the <code>CommandLineTool.arguments</code> field,
the <code>valueFrom</code> field is required.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>shellQuote</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If <code>ShellCommandRequirement</code> is in the requirements for the current command,
this controls whether the value is quoted on the command line (default is true).
Use <code>shellQuote: false</code> to inject metacharacters for operations such as pipes.</p>
<p>If <code>shellQuote</code> is true or not provided, the implementation must not
permit interpretation of any shell metacharacters or directives.</p>
</div>
</div></div><h6 id="CommandInputArraySchema" class="section">4.3.5.1.1.3 CommandInputArraySchema <a href="#CommandInputArraySchema">&sect;</a></h6><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>items</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#CommandInputRecordSchema">CommandInputRecordSchema</a> | <a href="#CommandInputEnumSchema">CommandInputEnumSchema</a> | <a href="#CommandInputArraySchema">CommandInputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#CommandInputRecordSchema">CommandInputRecordSchema</a> | <a href="#CommandInputEnumSchema">CommandInputEnumSchema</a> | <a href="#CommandInputArraySchema">CommandInputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the type of the array elements.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">constant value <code>array</code></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Must be <code>array</code></p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>name</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The identifier for this type</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputBinding</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CommandLineBinding">CommandLineBinding</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Describes how to turn this object into command line arguments.</p>
</div>
</div></div><h3 id="LoadListingRequirement" class="section">4.3.6 LoadListingRequirement <a href="#LoadListingRequirement">&sect;</a></h3><p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'LoadListingRequirement'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div></div><h3 id="SoftwareRequirement" class="section">4.3.7 SoftwareRequirement <a href="#SoftwareRequirement">&sect;</a></h3><p>A list of software packages that should be configured in the environment of
the defined process.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'SoftwareRequirement'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>packages</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#SoftwarePackage">SoftwarePackage</a>&gt; | <br><a href='#map'>map</a>&lt;<code>package</code>,&nbsp;<code>specs</code> | <a href="#SoftwarePackage">SoftwarePackage</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The list of software to be configured.</p>
</div>
</div></div><h3 id="SoftwarePackage" class="section">4.3.8 SoftwarePackage <a href="#SoftwarePackage">&sect;</a></h3><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>package</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The name of the software to be made available. If the name is
common, inconsistent, or otherwise ambiguous it should be combined with
one or more identifiers in the <code>specs</code> field.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>version</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The (optional) versions of the software that are known to be
compatible.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>specs</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>One or more <a href="https://en.wikipedia.org/wiki/Internationalized_Resource_Identifier">IRI</a>s
identifying resources for installing or enabling the software named in
the <code>package</code> field. Implementations may provide resolvers which map
these software identifer IRIs to some configuration action; or they can
use only the name from the <code>package</code> field on a best effort basis.</p>
<p>For example, the IRI <a href="https://packages.debian.org/bowtie">https://packages.debian.org/bowtie</a> could
be resolved with <code>apt-get install bowtie</code>. The IRI
<a href="https://anaconda.org/bioconda/bowtie">https://anaconda.org/bioconda/bowtie</a> could be resolved with <code>conda
install -c bioconda bowtie</code>.</p>
<p>IRIs can also be system independent and used to map to a specific
software installation or selection mechanism.
Using <a href="https://www.identifiers.org/rrid/">RRID</a> as an example:
<a href="https://identifiers.org/rrid/RRID:SCR_005476">https://identifiers.org/rrid/RRID:SCR_005476</a>
could be fulfilled using the above mentioned Debian or bioconda
package, a local installation managed by <a href="http://modules.sourceforge.net/">Environement Modules</a>,
or any other mechanism the platform chooses. IRIs can also be from
identifer sources that are discipline specific yet still system
independent. As an example, the equivalent <a href="https://bio.tools">ELIXIR Tools and Data
Service Registry</a> IRI to the previous RRID example is
<a href="https://bio.tools/tool/bowtie2/version/2.2.8">https://bio.tools/tool/bowtie2/version/2.2.8</a>.
If supported by a given registry, implementations are encouraged to
query these system independent sofware identifier IRIs directly for
links to packaging systems.</p>
<p>A site specific IRI can be listed as well. For example, an academic
computing cluster using Environement Modules could list the IRI
<code>https://hpc.example.edu/modules/bowtie-tbb/1.22</code> to indicate that
<code>module load bowtie-tbb/1.1.2</code> should be executed to make available
<code>bowtie</code> version 1.1.2 compiled with the TBB library prior to running
the accompanying Workflow or CommandLineTool. Note that the example IRI
is specific to a particular institution and computing environment as
the Environment Modules system does not have a common namespace or
standardized naming convention.</p>
<p>This last example is the least portable and should only be used if
mechanisms based off of the <code>package</code> field or more generic IRIs are
unavailable or unsuitable. While harmless to other sites, site specific
software IRIs should be left out of shared CWL descriptions to avoid
clutter.</p>
</div>
</div></div><h3 id="InitialWorkDirRequirement" class="section">4.3.9 InitialWorkDirRequirement <a href="#InitialWorkDirRequirement">&sect;</a></h3><p>Define a list of files and subdirectories that must be staged by the workflow platform prior to executing the command line tool.
Normally files are staged within the designated output directory. However, when running inside containers, files may be staged at arbitrary locations, see discussion for <code>Dirent.entryname</code>. Together with <code>DockerRequirement.dockerOutputDirectory</code> this it possible to control the locations of both input and output files when running in containers.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>InitialWorkDirRequirement</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>listing</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#Expression">Expression</a> | array&lt;<a href="#CWLType">null</a> | <a href="#Dirent">Dirent</a> | <a href="#Expression">Expression</a> | <a href="#File">File</a> | <a href="#Directory">Directory</a> | array&lt;<a href="#File">File</a>&nbsp;|&nbsp;<a href="#Directory">Directory</a>&gt;&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>The list of files or subdirectories that must be staged prior
to executing the command line tool.</p>
<p>Return type of each expression must validate as <code>["null",
File, Directory, Dirent, {type: array, items: [File,
Directory]}]</code>.</p>
<p>Each <code>File</code> or <code>Directory</code> that is returned by an Expression
must be added to the designated output directory prior to
executing the tool.</p>
<p>Each <code>Dirent</code> record that is listed or returned by an
expression specifies a file to be created or staged in the
designated output directory prior to executing the tool.</p>
<p>Expressions may return null, in which case they have no effect.</p>
<p>Files or Directories which are listed in the input parameters
and appear in the <code>InitialWorkDirRequirement</code> listing must
have their <code>path</code> set to their staged location.  If the same
File or Directory appears more than once in the
<code>InitialWorkDirRequirement</code> listing, the implementation must
choose exactly one value for <code>path</code>; how this value is chosen
is undefined.</p>
</div>
</div></div><h4 id="Dirent" class="section">4.3.9.1 Dirent <a href="#Dirent">&sect;</a></h4><p>Define a file or subdirectory that must be staged to a particular
place prior to executing the command line tool.  May be the result
of executing an expression, such as building a configuration file
from a template.</p>
<p>Usually files are staged within the <a href="#Runtime_environment">designated output directory</a>.
However, under certain circumstances, files may be staged at
arbitrary locations, see discussion for <code>entryname</code>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>entry</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If the value is a string literal or an expression which evaluates to a
string, a new text file must be created with the string as the file contents.</p>
<p>If the value is an expression that evaluates to a <code>File</code> or
<code>Directory</code> object, or an array of <code>File</code> or <code>Directory</code>
objects, this indicates the referenced file or directory
should be added to the designated output directory prior to
executing the tool.</p>
<p>If the value is an expression that evaluates to <code>null</code>,
nothing is added to the designated output directory, the entry
has no effect.</p>
<p>If the value is an expression that evaluates to some other
array, number, or object not consisting of <code>File</code> or
<code>Directory</code> objects, a new file must be created with the value
serialized to JSON text as the file contents.  The JSON
serialization behavior should match the behavior of string
interpolation of <a href="#Parameter_references">Parameter
references</a>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>entryname</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The "target" name of the file or subdirectory.  If <code>entry</code> is
a File or Directory, the <code>entryname</code> field overrides the value
of <code>basename</code> of the File or Directory object.</p>
<ul>
<li>Required when <code>entry</code> evaluates to file contents only</li>
<li>Optional when <code>entry</code> evaluates to a File or Directory object with a <code>basename</code></li>
<li>Invalid when <code>entry</code> evaluates to an array of File or Directory objects.</li>
</ul>
<p>If <code>entryname</code> is a relative path, it specifies a name within
the designated output directory.  A relative path starting
with <code>../</code> or that resolves to location above the designated output directory is an error.</p>
<p>If <code>entryname</code> is an absolute path (starts with a slash <code>/</code>)
it is an error unless the following conditions are met:</p>
<ul>
<li><code>DockerRequirement</code> is present in <code>requirements</code></li>
<li>The program is will run inside a software container
where, from the perspective of the program, the root
filesystem is not shared with any other user or
running program.</li>
</ul>
<p>In this case, and the above conditions are met, then
<code>entryname</code> may specify the absolute path within the container
where the file or directory must be placed.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>writable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>If true, the File or Directory (or array of Files or
Directories) declared in <code>entry</code> must be writable by the tool.</p>
<p>Changes to the file or directory must be isolated and not
visible by any other CommandLineTool process.  This may be
implemented by making a copy of the original file or
directory.</p>
<p>Default false (files and directories read-only by default).</p>
<p>A directory marked as <code>writable: true</code> implies that all files and
subdirectories are recursively writable as well.</p>
<p>If <code>writable</code> is false, the file may be made available using a
bind mount or file system link to avoid unnecessary copying of
the input file.  Command line tools may receive an error on
attempting to rename or delete files or directories that are
not explicitly marked as writable.</p>
</div>
</div></div><h3 id="WorkReuse" class="section">4.3.10 WorkReuse <a href="#WorkReuse">&sect;</a></h3><p>For implementations that support reusing output from past work (on
the assumption that same code and same input produce same
results), control whether to enable or disable the reuse behavior
for a particular tool or step (to accomodate situations where that
assumption is incorrect).  A reused step is not executed but
instead returns the same output as the original execution.</p>
<p>If <code>WorkReuse</code> is not specified, correct tools should assume it
is enabled by default.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'WorkReuse'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>enableReuse</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div></div><h3 id="NetworkAccess" class="section">4.3.11 NetworkAccess <a href="#NetworkAccess">&sect;</a></h3><p>Indicate whether a process requires outgoing IPv4/IPv6 network
access.  Choice of IPv4 or IPv6 is implementation and site
specific, correct tools must support both.</p>
<p>If <code>networkAccess</code> is false or not specified, tools must not
assume network access, except for localhost (the loopback device).</p>
<p>If <code>networkAccess</code> is true, the tool must be able to make outgoing
connections to network resources.  Resources may be on a private
subnet or the public Internet.  However, implementations and sites
may apply their own security policies to restrict what is
accessible by the tool.</p>
<p>Enabling network access does not imply a publically routable IP
address or the ability to accept inbound connections.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'NetworkAccess'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>networkAccess</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div></div><h3 id="InplaceUpdateRequirement" class="section">4.3.12 InplaceUpdateRequirement <a href="#InplaceUpdateRequirement">&sect;</a></h3><p>If <code>inplaceUpdate</code> is true, then an implementation supporting this
feature may permit tools to directly update files with <code>writable:
true</code> in InitialWorkDirRequirement.  That is, as an optimization,
files may be destructively modified in place as opposed to copied
and updated.</p>
<p>An implementation must ensure that only one workflow step may
access a writable file at a time.  It is an error if a file which
is writable by one workflow step file is accessed (for reading or
writing) by any other workflow step running independently.
However, a file which has been updated in a previous completed
step may be used as input to multiple steps, provided it is
read-only in every step.</p>
<p>Workflow steps which modify a file must produce the modified file
as output.  Downstream steps which futher process the file must
use the output of previous steps, and not refer to a common input
(this is necessary for both ordering and correctness).</p>
<p>Workflow authors should provide this in the <code>hints</code> section.  The
intent of this feature is that workflows produce the same results
whether or not InplaceUpdateRequirement is supported by the
implementation, and this feature is primarily available as an
optimization for particular environments.</p>
<p>Users and implementers should be aware that workflows that
destructively modify inputs may not be repeatable or reproducible.
In particular, enabling this feature implies that WorkReuse should
not be enabled.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'InplaceUpdateRequirement'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inplaceUpdate</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div></div><h3 id="ToolTimeLimit" class="section">4.3.13 ToolTimeLimit <a href="#ToolTimeLimit">&sect;</a></h3><p>Set an upper limit on the execution time of a CommandLineTool.
A CommandLineTool whose execution duration exceeds the time
limit may be preemptively terminated and considered failed.
May also be used by batch systems to make scheduling decisions.
The execution duration excludes external operations, such as
staging of files, pulling a docker image etc, and only counts
wall-time for the execution of the command line itself.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'ToolTimeLimit'</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>timelimit</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">long</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The time limit, in seconds.  A time limit of zero means no
time limit.  Negative time limits are an error.</p>
</div>
</div></div><h3 id="SubworkflowFeatureRequirement" class="section">4.3.14 SubworkflowFeatureRequirement <a href="#SubworkflowFeatureRequirement">&sect;</a></h3><p>Indicates that the workflow platform must support nested workflows in
the <code>run</code> field of <a href="#WorkflowStep">WorkflowStep</a>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'SubworkflowFeatureRequirement'</p>
</div>
</div></div><h3 id="ScatterFeatureRequirement" class="section">4.3.15 ScatterFeatureRequirement <a href="#ScatterFeatureRequirement">&sect;</a></h3><p>Indicates that the workflow platform must support the <code>scatter</code> and
<code>scatterMethod</code> fields of <a href="#WorkflowStep">WorkflowStep</a>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'ScatterFeatureRequirement'</p>
</div>
</div></div><h3 id="MultipleInputFeatureRequirement" class="section">4.3.16 MultipleInputFeatureRequirement <a href="#MultipleInputFeatureRequirement">&sect;</a></h3><p>Indicates that the workflow platform must support multiple inbound data links
listed in the <code>source</code> field of <a href="#WorkflowStepInput">WorkflowStepInput</a>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'MultipleInputFeatureRequirement'</p>
</div>
</div></div><h3 id="StepInputExpressionRequirement" class="section">4.3.17 StepInputExpressionRequirement <a href="#StepInputExpressionRequirement">&sect;</a></h3><p>Indicate that the workflow platform must support the <code>valueFrom</code> field
of <a href="#WorkflowStepInput">WorkflowStepInput</a>.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Always 'StepInputExpressionRequirement'</p>
</div>
</div></div><h3 id="ExpressionTool" class="section">4.3.18 ExpressionTool <a href="#ExpressionTool">&sect;</a></h3><p>An ExpressionTool is a type of Process object that can be run by itself
or as a Workflow step. It executes a pure Javascript expression that has
access to the same input parameters as a workflow. It is meant to be used
sparingly as a way to isolate complex Javascript expressions that need to
operate on input data and produce some result; perhaps just a
rearrangement of the inputs. No Docker software container is required
or allowed.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#WorkflowInputParameter">WorkflowInputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#WorkflowInputParameter">WorkflowInputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the input parameters of the process.  The process is ready to
run when all required input parameters are associated with concrete
values.  Input parameters include a schema for each parameter which is
used to validate the input object.  It may also be used to build a user
interface for constructing the input object.</p>
<p>When accepting an input object, all input parameters must have a value.
If an input parameter is missing from the input object, it must be
assigned a value of <code>null</code> (or the value of <code>default</code> for that
parameter, if provided) for the purposes of validation and evaluation
of expressions.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>outputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#ExpressionToolOutputParameter">ExpressionToolOutputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#ExpressionToolOutputParameter">ExpressionToolOutputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the parameters representing the output of the process.  May be
used to generate and/or validate the output object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>expression</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The expression to execute.  The expression must return a plain
Javascript object which matches the output parameters of the
ExpressionTool.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>requirements</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt; | <br><a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares requirements that apply to either the runtime environment or the
workflow engine that must be met in order to execute this process.  If
an implementation cannot satisfy all requirements, or a requirement is
listed which is not recognized by the implementation, it is a fatal
error and the implementation must not attempt to run the process,
unless overridden at user option.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>hints</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#Any">Any</a>&gt; | <a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#Any">Any</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares hints applying to either the runtime environment or the
workflow engine that may be helpful in executing this process.  It is
not an error if an implementation cannot satisfy all hints, however
the implementation may report a warning.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>cwlVersion</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLVersion">CWLVersion</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>CWL document version. Always required at the document root. Not
required for a Process embedded inside another Process.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>intent</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>An identifier for the type of computational operation, of this Process.
Especially useful for "class: Operation", but can also be used for
CommandLineTool, Workflow, or ExpressionTool.</p>
<p>If provided, then this must be an IRI of a concept node that
represents the type of operation, preferrably defined within an ontology.</p>
<p>For example, in the domain of bioinformatics, one can use an IRI from
the EDAM Ontology's <a href="http://edamontology.org/operation_0004">Operation concept nodes</a>,
like <a href="http://edamontology.org/operation_2928">Alignment</a>,
or <a href="http://edamontology.org/operation_3432">Clustering</a>; or a more
specific Operation concept like
<a href="http://edamontology.org/operation_3199">Split read mapping</a>.</p>
</div>
</div></div><h4 id="ExpressionToolOutputParameter" class="section">4.3.18.1 ExpressionToolOutputParameter <a href="#ExpressionToolOutputParameter">&sect;</a></h4><h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specify valid types of data that may be assigned to this parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This is the file format that will be assigned to the output
File object.</p>
</div>
</div></div><h4 id="CWLVersion" class="section">4.3.18.2 CWLVersion <a href="#CWLVersion">&sect;</a></h4><p>Version symbols for published CWL document versions.</p>
<h3>Symbols</h3><table class="table table-striped"><tr><th>symbol</th><th>description</th></tr><tr><td><code>draft-2</code></td><td></td></tr><tr><td><code>draft-3.dev1</code></td><td></td></tr><tr><td><code>draft-3.dev2</code></td><td></td></tr><tr><td><code>draft-3.dev3</code></td><td></td></tr><tr><td><code>draft-3.dev4</code></td><td></td></tr><tr><td><code>draft-3.dev5</code></td><td></td></tr><tr><td><code>draft-3</code></td><td></td></tr><tr><td><code>draft-4.dev1</code></td><td></td></tr><tr><td><code>draft-4.dev2</code></td><td></td></tr><tr><td><code>draft-4.dev3</code></td><td></td></tr><tr><td><code>v1.0.dev4</code></td><td></td></tr><tr><td><code>v1.0</code></td><td></td></tr><tr><td><code>v1.1.0-dev1</code></td><td></td></tr><tr><td><code>v1.1</code></td><td></td></tr><tr><td><code>v1.2.0-dev1</code></td><td></td></tr><tr><td><code>v1.2.0-dev2</code></td><td></td></tr><tr><td><code>v1.2.0-dev3</code></td><td></td></tr><tr><td><code>v1.2.0-dev4</code></td><td></td></tr><tr><td><code>v1.2.0-dev5</code></td><td></td></tr><tr><td><code>v1.2</code></td><td></td></tr></table><h3 id="Operation" class="section">4.3.19 Operation <a href="#Operation">&sect;</a></h3><p>This record describes an abstract operation.  It is a potential
step of a workflow that has not yet been bound to a concrete
implementation.  It specifies an input and output signature, but
does not provide enough information to be executed.  An
implementation (or other tooling) may provide a means of binding
an Operation to a concrete process (such as Workflow,
CommandLineTool, or ExpressionTool) with a compatible signature.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>inputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#OperationInputParameter">OperationInputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#OperationInputParameter">OperationInputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the input parameters of the process.  The process is ready to
run when all required input parameters are associated with concrete
values.  Input parameters include a schema for each parameter which is
used to validate the input object.  It may also be used to build a user
interface for constructing the input object.</p>
<p>When accepting an input object, all input parameters must have a value.
If an input parameter is missing from the input object, it must be
assigned a value of <code>null</code> (or the value of <code>default</code> for that
parameter, if provided) for the purposes of validation and evaluation
of expressions.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>outputs</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#OperationOutputParameter">OperationOutputParameter</a>&gt; | <br><a href='#map'>map</a>&lt;<code>id</code>,&nbsp;<code>type</code> | <a href="#OperationOutputParameter">OperationOutputParameter</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Defines the parameters representing the output of the process.  May be
used to generate and/or validate the output object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>class</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"></div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>requirements</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt; | <br><a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#InlineJavascriptRequirement">InlineJavascriptRequirement</a> | <a href="#SchemaDefRequirement">SchemaDefRequirement</a> | <a href="#LoadListingRequirement">LoadListingRequirement</a> | <a href="CommandLineTool.html#DockerRequirement">DockerRequirement</a> | <a href="#SoftwareRequirement">SoftwareRequirement</a> | <a href="#InitialWorkDirRequirement">InitialWorkDirRequirement</a> | <a href="CommandLineTool.html#EnvVarRequirement">EnvVarRequirement</a> | <a href="CommandLineTool.html#ShellCommandRequirement">ShellCommandRequirement</a> | <a href="CommandLineTool.html#ResourceRequirement">ResourceRequirement</a> | <a href="#WorkReuse">WorkReuse</a> | <a href="#NetworkAccess">NetworkAccess</a> | <a href="#InplaceUpdateRequirement">InplaceUpdateRequirement</a> | <a href="#ToolTimeLimit">ToolTimeLimit</a> | <a href="#SubworkflowFeatureRequirement">SubworkflowFeatureRequirement</a> | <a href="#ScatterFeatureRequirement">ScatterFeatureRequirement</a> | <a href="#MultipleInputFeatureRequirement">MultipleInputFeatureRequirement</a> | <a href="#StepInputExpressionRequirement">StepInputExpressionRequirement</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares requirements that apply to either the runtime environment or the
workflow engine that must be met in order to execute this process.  If
an implementation cannot satisfy all requirements, or a requirement is
listed which is not recognized by the implementation, it is a fatal
error and the implementation must not attempt to run the process,
unless overridden at user option.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>hints</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#Any">Any</a>&gt; | <a href='#map'>map</a>&lt;<code>class</code>,&nbsp;<a href="#Any">Any</a>&gt</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Declares hints applying to either the runtime environment or the
workflow engine that may be helpful in executing this process.  It is
not an error if an implementation cannot satisfy all hints, however
the implementation may report a warning.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>cwlVersion</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLVersion">CWLVersion</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>CWL document version. Always required at the document root. Not
required for a Process embedded inside another Process.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>intent</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3">array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>An identifier for the type of computational operation, of this Process.
Especially useful for "class: Operation", but can also be used for
CommandLineTool, Workflow, or ExpressionTool.</p>
<p>If provided, then this must be an IRI of a concept node that
represents the type of operation, preferrably defined within an ontology.</p>
<p>For example, in the domain of bioinformatics, one can use an IRI from
the EDAM Ontology's <a href="http://edamontology.org/operation_0004">Operation concept nodes</a>,
like <a href="http://edamontology.org/operation_2928">Alignment</a>,
or <a href="http://edamontology.org/operation_3432">Clustering</a>; or a more
specific Operation concept like
<a href="http://edamontology.org/operation_3199">Split read mapping</a>.</p>
</div>
</div></div><h4 id="OperationInputParameter" class="section">4.3.19.1 OperationInputParameter <a href="#OperationInputParameter">&sect;</a></h4><p>Describe an input parameter of an operation.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#InputRecordSchema">InputRecordSchema</a> | <a href="#InputEnumSchema">InputEnumSchema</a> | <a href="#InputArraySchema">InputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specify valid types of data that may be assigned to this parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt; | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This must be one or more IRIs of concept nodes
that represents file formats which are allowed as input to this
parameter, preferrably defined within an ontology.  If no ontology is
available, file formats may be tested by exact match.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadContents</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>If true, the file (or each file in the array) must be a UTF-8
text file 64 KiB or smaller, and the implementation must read
the entire contents of the file (or file array) and place it
in the <code>contents</code> field of the File object for use by
expressions.  If the size of the file is greater than 64 KiB,
the implementation must raise a fatal error.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>loadListing</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#LoadListingEnum">LoadListingEnum</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: Directory</code> or is an array of <code>items: Directory</code>.</p>
<p>Specify the desired behavior for loading the <code>listing</code> field of
a Directory object for use by expressions.</p>
<p>The order of precedence for loadListing is:</p>
<ol>
<li><code>loadListing</code> on an individual parameter</li>
<li>Inherited from <code>LoadListingRequirement</code></li>
<li>By default: <code>no_listing</code></li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>default</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#Any">Any</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The default value to use for this parameter if the parameter is missing
from the input object, or if the value of the parameter in the input
object is <code>null</code>.  Default values are applied before evaluating expressions
(e.g. dependent <code>valueFrom</code> fields).</p>
</div>
</div></div><h4 id="OperationOutputParameter" class="section">4.3.19.2 OperationOutputParameter <a href="#OperationOutputParameter">&sect;</a></h4><p>Describe an output parameter of an operation.</p>
<h3>Fields</h3>
<div class="responsive-table">
<div class="row responsive-table-header">
<div class="col-xs-3 col-lg-2">field</div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3">type</div>
<div class="col-xs-12 col-lg-6 description-header">description</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>type</code></div>
<div class="col-xs-2 col-lg-1">required</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a> | array&lt;<a href="#CWLType">CWLType</a> | <a href="#OutputRecordSchema">OutputRecordSchema</a> | <a href="#OutputEnumSchema">OutputEnumSchema</a> | <a href="#OutputArraySchema">OutputArraySchema</a> | <a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Specify valid types of data that may be assigned to this parameter.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>label</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>A short, human-readable label of this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>secondaryFiles</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#SecondaryFileSchema">SecondaryFileSchema</a> | array&lt;<a href="#SecondaryFileSchema">SecondaryFileSchema</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>Provides a pattern or expression specifying files or
directories that should be included alongside the primary
file.  Secondary files may be required or optional.  When not
explicitly specified, secondary files specified for <code>inputs</code>
are required and <code>outputs</code> are optional.  An implementation
must include matching Files and Directories in the
<code>secondaryFiles</code> property of the primary file.  These Files
and Directories must be transferred and staged alongside the
primary file.  An implementation may fail workflow execution
if a required secondary file does not exist.</p>
<p>If the value is an expression, the value of <code>self</code> in the expression
must be the primary input or output File object to which this binding
applies.  The <code>basename</code>, <code>nameroot</code> and <code>nameext</code> fields must be
present in <code>self</code>.  For <code>CommandLineTool</code> outputs the <code>path</code> field must
also be present.  The expression must return a filename string relative
to the path to the primary File, a File or Directory object with either
<code>path</code> or <code>location</code> and <code>basename</code> fields set, or an array consisting
of strings or File or Directory objects.  It is legal to reference an
unchanged File or Directory object taken from input as a secondaryFile.
The expression may return "null" in which case there is no secondaryFile
from that expression.</p>
<p>To work on non-filename-preserving storage systems, portable tool
descriptions should avoid constructing new values from <code>location</code>, but
should construct relative references using <code>basename</code> or <code>nameroot</code>
instead.</p>
<p>If a value in <code>secondaryFiles</code> is a string that is not an expression,
it specifies that the following pattern should be applied to the path
of the primary file to yield a filename relative to the primary File:</p>
<ol>
<li>If string ends with <code>?</code> character, remove the last <code>?</code> and mark
the resulting secondary file as optional.</li>
<li>If string begins with one or more caret <code>^</code> characters, for each
caret, remove the last file extension from the path (the last
period <code>.</code> and all following characters).  If there are no file
extensions, the path is unchanged.</li>
<li>Append the remainder of the string to the end of the file path.</li>
</ol>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>streamable</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">boolean</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>A value of <code>true</code> indicates that the file is read or written
sequentially without seeking.  An implementation may use this flag to
indicate whether it is valid to stream file contents using a named
pipe.  Default: <code>false</code>.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>doc</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | array&lt;<a href="#CWLType">string</a>&gt;</div>
<div class="col-xs-12 col-lg-6 description-col"><p>A documentation string for this object, or an array of strings which should be concatenated.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>id</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>The unique identifier for this object.</p>
</div>
</div>
<div class="row responsive-table-row">
<div class="col-xs-3 col-lg-2"><code>format</code></div>
<div class="col-xs-2 col-lg-1">optional</div>
<div class="col-xs-7 col-lg-3"><a href="#CWLType">string</a> | <a href="#Expression">Expression</a></div>
<div class="col-xs-12 col-lg-6 description-col"><p>Only valid when <code>type: File</code> or is an array of <code>items: File</code>.</p>
<p>This is the file format that will be assigned to the output
File object.</p>
</div>
</div></div></div>
    </div>
    </div>
    </body>
    </html>